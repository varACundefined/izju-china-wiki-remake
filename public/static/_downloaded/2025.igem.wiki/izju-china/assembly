<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="https://static.igem.wiki/teams/5913/picture/logo8.webp" />
  <link rel="license" href="https://creativecommons.org/licenses/by/4.0/" />



  <!-- Your site-wide CSS -->
  <link href="static/style.css" rel="stylesheet">
  <link href="static/navbar.css" rel="stylesheet">
  <link href="static/page.css" rel="stylesheet">
  <link href="static/footer.css" rel="stylesheet">
  <link href="static/homepage.css" rel="stylesheet">
  <link href="static/sidebar.css" rel="stylesheet">
  <link href="static/loading.css" rel="stylesheet">

  <!-- Pagefind UI styles (search box styles). Will load from static/pagefind/pagefind-ui.css -->
  <!-- If pagefind directory is not generated yet, this line will 404 but won't affect page functionality; will work after generation -->
  <link rel="stylesheet" href="static/pagefind/pagefind-ui.css">

  <!-- Page-specific additional CSS -->
  
<link rel="stylesheet" href="static/wetlab-typography.css">


  <!-- Safety-style page CSS -->
  <style>
    /* Safety-only: reduce initial top gap so content shows immediately */
    .pagecontainer {
      margin-top: 4vh;
    }

    .pagecontent {
      transform: none;
      margin-top: 0;
    }

    /* Math formula styles */
    .formula {
      text-align: center;
      margin: 1.5em 0;
      padding: 1em;
      background-color: rgba(0, 0, 0, 0.02);
      border-radius: 8px;
    }

    .formula p {
      margin: 0;
      font-size: 1.1em;
    }

    /* Dark theme formula styles */
    [data-theme="dark"] .formula {
      background-color: rgba(255, 255, 255, 0.05);
    }

    /* MathJax display styles for dark theme */
    [data-theme="dark"] .MathJax,
    [data-theme="dark"] .MathJax_Display {
      color: var(--text-color) !important;
    }



    /* Align Safety background with fixed 250px sidebar on desktop */
    @media (min-width: 921px) {
      .safety-bg-image {
        left: 250px;
        width: calc(100% - 250px);
      }

      /* Override sidebar position to move it to bottom */
      .main .menubg {
        top: 78px !important;
        height: calc(100vh - 78px) !important;
      }
    }

    /* Dark mode table fix */
    [data-theme="dark"] table {
      color: #ecf0f1 !important;
      background-color: transparent !important;
    }

    [data-theme="dark"] table th,
    [data-theme="dark"] table td {
      background-color: rgba(255, 255, 255, 0.05) !important;
      color: #ecf0f1 !important;
      border-color: #4a5568 !important;
    }

    [data-theme="dark"] .pagecontent table {
      color: #ecf0f1 !important;
    }
  </style>

  <!-- Global Back-to-Top Button Styles -->
  <style>
    /* Global Back-to-Top button */
    #global-back-to-top {
      position: fixed;
      right: 12px;
      bottom: 24px;
      width: auto;
      height: auto;
      max-width: 120px;
      max-height: 120px;
      background: none;
      box-shadow: none;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      opacity: 0;
      pointer-events: none;
      transform: translateY(8px);
      transition: opacity .2s ease, transform .2s ease;
      z-index: 999;
    }

    #global-back-to-top.show {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }

    #global-back-to-top:hover {
      transform: translateY(0) scale(1.05);
    }

    #global-back-to-top .global-btt-image {
      width: auto;
      height: auto;
      max-width: 120px;
      max-height: 120px;
      object-fit: contain;
      display: block;
    }

    /* Respect smaller screens: nudge inward and shrink a bit */
    @media (max-width: 768px) {
      #global-back-to-top {
        right: 8px;
        bottom: 16px;
        max-width: 96px;
        max-height: 96px;
      }

      #global-back-to-top .global-btt-image {
        max-width: 96px;
        max-height: 96px;
      }
    }
  </style>

  <title>Assembly Module | IZJU-CHINA - iGEM 2025</title>
</head>

<body class="all ">
  <!-- Navigation -->
  <!-- <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <div class="container">

    TEAM NAME
    <a class="navbar-brand" href="#">IZJU-CHINA</a>

    SMALL SCREEN MENU ICON
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto left-aligned">

        HOME
        <li class="nav-item">
          <a class="nav-link" href="./">Home</a>
        </li>

        TEAM
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="team" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Team
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item" href="team">Team</a></li>
            <li><a class="dropdown-item" href="attributions">Attributions</a></li>
          </ul>
        </li>

        PROJECT
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Project
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item" href="contribution">Contribution</a></li>
            <li><a class="dropdown-item" href="description">Description</a></li>
            <li><a class="dropdown-item" href="engineering">Engineering</a></li>
            <li><a class="dropdown-item" href="experiments">Experiments</a></li>
            <li><a class="dropdown-item" href="notebook">Notebook</a></li>
            <li><a class="dropdown-item" href="results">Results</a></li>
          </ul>
        </li>

        SAFETY
        <li class="nav-item">
          <a class="nav-link" href="safety">Safety</a>
        </li>

        HUMAN PRACTICES
        <li class="nav-item">
          <a class="nav-link" href="human-practices">Human Practices</a>
        </li>

        AWARDS
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Awards
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item" href="education">Education</a></li>
            <li><a class="dropdown-item" href="entrepreneurship">Entrepreneurship</a></li>
            <li><a class="dropdown-item" href="hardware">Hardware</a></li>
            <li><a class="dropdown-item" href="inclusivity">Inclusivity</a></li>
            <li><a class="dropdown-item" href="measurement">Measurement</a></li>
            <li><a class="dropdown-item" href="model">Model</a></li>
            <li><a class="dropdown-item" href="plant">Plant</a></li>
            <li><a class="dropdown-item" href="software">Software</a></li>
            <li><a class="dropdown-item" href="sustainable">Sustainable</a></li>
          </ul>
        </li>

      </ul>
    </div>
  </div>
</nav> -->

<nav class="my-nav" id="navbox">
  <div class="logo-container">
    <a href="./" class="icon" aria-label="Home"></a>
  </div>

  <ul class="my-navbar" id="my-navbar">
    <!-- 1) Light/dark toggle button: first one -->
    <li class="aux theme-li">
      <div class="color-picker" id="theme-picker">
        <a class="color-button" href="#" id="theme-toggle" aria-label="Toggle dark mode">
          <span class="iconfont icon-bulb">üåì</span>
        </a>
        <div class="color-picker-menu" id="theme-menu" style="display: none;">
          <div class="mode-options">
            <h4 class="title">Choose mode</h4>
            <ul class="color-mode-options">
              <li class="dark" data-mode="dark">dark</li>
              <li class="light" data-mode="light">light</li>
              <li class="auto active" data-mode="auto">auto</li>
            </ul>
          </div>
        </div>
      </div>
    </li>

    <!-- 2) Search: second one -->
    <li class="aux search-li">
      <div class="search-box">
        <span class="iconfont icon-search">üîç</span>
        <input id="search-input" type="text" placeholder="Search the wiki" autocomplete="off" spellcheck="false">
        <ul class="suggestions" id="search-suggestions" style="display: none;"></ul>
      </div>
    </li>

    <!-- 3) Other menus (keep original hover expansion logic) -->
    <li onmouseover="over(this)" onmouseleave="leave(this)">
      <a href="./">Home</a>
    </li>

    <li onmouseover="over(this)" onmouseleave="leave(this)">
      <a href="#" style="cursor:default;">Project</a>
      <ul class="son" onmouseover="over(this.parentElement)" onmouseleave="leave(this.parentElement)">
        <li><a href="background">Background</a></li>
        <li><a href="description">Description</a></li>
        <li><a href="engineering">Engineering</a></li>
        <li><a href="contribution">Contribution</a></li>
        <li><a href="implementation">Implementation</a></li>
        <li><a href="project-future" data-search-title="Project Future">Future</a></li>
      </ul>
    </li>

    <li onmouseover="over(this)" onmouseleave="leave(this)">
      <a href="#" style="cursor:default;">Dry Lab</a>
      <ul class="son" onmouseover="over(this.parentElement)" onmouseleave="leave(this.parentElement)">
        <li><a href="design">Design</a></li>
        <li><a href="model">Model</a></li>
      </ul>
    </li>

    <li onmouseover="over(this)" onmouseleave="leave(this)">
      <a href="#" style="cursor:default;">Wet Lab</a>
      <ul class="son" onmouseover="over(this.parentElement)" onmouseleave="leave(this.parentElement)">
        <li><a href="wetlab-overview">Overview</a></li>
        <li><a href="gene-cleavage">Gene Cleavage</a></li>
        <li><a href="assembly">Assembly</a></li>
        <li><a href="validation">Validation</a></li>
        <li><a href="wetlab-future" data-search-title="Wetlab Future">Future</a></li>
        <li><a href="parts">Part</a></li>
      </ul>
    </li>

    <li onmouseover="over(this)" onmouseleave="leave(this)">
      <a href="#" style="cursor:default;">Human Practice</a>
      <ul class="son" onmouseover="over(this.parentElement)" onmouseleave="leave(this.parentElement)">
        <li><a href="human-practices">iHP</a></li>
        <li><a href="entrepreneurship">Entrepreneurship</a></li>
        <li><a href="collaborations">Collaboration</a></li>
        <li><a href="safety">Safety</a></li>
      </ul>
    </li>

    <li onmouseover="over(this)" onmouseleave="leave(this)">
      <a href="#" style="cursor:default;">Team</a>
      <ul class="son" onmouseover="over(this.parentElement)" onmouseleave="leave(this.parentElement)">
        <li><a href="roster">Roster</a></li>
        <li><a href="attributions">Attribution</a></li>
        <li><a href="awards">Awards</a></li>
      </ul>
    </li>

  </ul>
</nav>

<script>
  // Navbar control variables
  const navbox = document.getElementById("navbox");
  const navbar = document.getElementById("my-navbar");
  const items = navbar ? navbar.children : [];

  // Debounce variables
  let hoverTimeout;
  let leaveTimeout;
  let currentHoverItem = null;

  function setAllColor() {
    for (let i = 0; i < items.length; i++) {
      const a = items[i].querySelector(':scope > a');
      if (a) a.style.color = ''; // Clear inline styles, let CSS variables take effect
    }
  }

  function hideAllMenus() {
    // Restore all menu item colors
    setAllColor();

    // Hide all submenus
    const allSons = document.querySelectorAll('.son');
    allSons.forEach(son => {
      son.style.opacity = 0;
      son.style.display = "none";
    });

    // Restore navbar height
    navbox.style.height = "78px";

    currentHoverItem = null;
  }

  function over(el) {
    // Clear previous timer
    if (hoverTimeout) clearTimeout(hoverTimeout);
    if (leaveTimeout) clearTimeout(leaveTimeout);


    if (currentHoverItem && currentHoverItem !== el) {
      hideAllMenus();
    }


    currentHoverItem = el;


    setAllColor();

    //  - CSS
    const a = el.querySelector(':scope > a');
    if (a) a.style.color = 'var(--nav-link-hover)';


    const son = el.querySelector(':scope > .son');
    if (son) {
      son.style.display = "block";

      son.style.opacity = 1;


      if (document.documentElement.clientWidth > 1400) {
        navbox.style.height = "180px";  // 320px180px
      } else if (document.documentElement.clientHeight < 1120) {
        navbox.style.height = "150px";  // 245px150px
      } else {
        navbox.style.height = "160px";  // 280px160px
      }
    }
  }

  function leave(el) {

    if (hoverTimeout) clearTimeout(hoverTimeout);
    if (leaveTimeout) clearTimeout(leaveTimeout);


    if (currentHoverItem === el) {
      leaveTimeout = setTimeout(() => {
        hideAllMenus();
      }, 150); // 150ms
    }
  }


  navbox.addEventListener('mouseleave', function () {

    leaveTimeout = setTimeout(() => {
      hideAllMenus();
    }, 150);
  });


  navbox.addEventListener('mouseenter', function () {
    if (leaveTimeout) {
      clearTimeout(leaveTimeout);
      leaveTimeout = null;
    }
  });
</script>

  <!-- Page Content -->
  <div class="main">
    <div class="menubg">
      <div id="menu">
        <!-- Sidebar content will be dynamically generated by page-specific JavaScript -->
      </div>
    </div>
    <div id="content">
      <!-- Safety-style page structure -->
      <div class="safety-bg-image">
        <div class="subpage-bg-shelter"></div>
      </div>
      <div class="pagecontainer">
        <div class="title2">
          <span>Assembly Module</span>
        </div>
        <div class="pagebody">
          <div class="pagecontent" id="auto-page-content">
            
<div id="auto-wetlab-content">
  <!-- Assembly Module Content - Restructured with 4 Sections -->

<h1>Results</h1>

<h2>1. AFM: Verification Of The DNA Origami Structure</h2>
<p>In our design, the successful assembly of DNA origami was the prerequisite for the function of the DNA origami-based gene editing system. Therefore, verifying the correct assembly of DNA origami was an indispensable foundation for subsequent experiments.</p>

<p>The shapes of DNA origami nanostructures are typically analysed using single-molecule microscopy techniques, the most important being atomic force microscopy (AFM) and transmission electron microscopy (TEM). TEM can yield high-resolution images of single nanostructures but requires sophisticated sample preparation and image analysis. AFM, as a powerful technique to visualise nano- to micrometre-scale structures with subnanometer resolution, has the advantage that it can be operated under atmospheric conditions and even in liquids, and the requirements for sample preparation are minimal (1,2). Hence, AFM imaging was selected to visualise the structural information of the basic plane of DNA origami (DO<sub>PAM</sub>).</p>

<p>The DO<sub>PAM</sub> nanostructures were assembled in TAE/Mg<sup>2+</sup> buffer using M13 scaffold, helper strands (S-x, S-PAM-cap-x), and functional strand (PAM-rich) through PCR programs. After purification by filtering three times, the DO<sub>PAM</sub> solution was added to the mica sheet to prepare the dry AFM sample. AFM imaging was performed via a tapping mode by using an Asylum Research Cypher ES environmental AFM (Oxford Instruments) equipped with AC-240TSA-R3 tips (f = 70 kH, k = 2 N/m, no tip coating, Oxford Instrument). All images were analysed using the Gwyddion 2.69 and Origin 2025b software. Detailed method and operation procedures can be found in the following protocol (4 Verification of the DNA origami structure by AFM). (AFM handbook)</p>

<p>Nano-sized aggregates with side lengths around 100 nm and heights under 4 nm were considered as the desired DNA nanotiles, as the design specifications for the rectangular DNA origami were 100 nm √ó 80 nm √ó 2 nm. In AFM imaging, the DO<sub>PAM</sub> maintained the rectangular shape (Figure 1A). Height analysis of a selected single rectangular DO<sub>PAM</sub> showed that the length of DO<sub>PAM</sub> was around 100nm, the width was around 80nm (Figure 1B), keeping in line with our expectations. These structural values indicated the successful assembly of DO<sub>PAM</sub>.</p>

<img src="https://static.igem.wiki/teams/5913/wet-result/wet-a-1.webp" alt="AFM image of DOPAM" style="max-width: 100%; height: auto;">
<p><strong>Figure 1. AFM image and Height analysis of a single rectangular DO<sub>PAM</sub>.</strong> A. A schematic diagram of the designed DO<sub>PAM</sub> (100nm √ó 80nm √ó 2nm) and an AFM image showing a selected assembled rectangular nanostructure. B. Height analysis for the length (upper) and width (below) of DO<sub>PAM</sub> by AFM. The left pictures showed the drawn lines, and the right pictures showed the height variation curve along the line, which changed with the distance. Scale bar: 100nm.</p>

<p>With a larger scanning area and a relatively smaller magnification factor, monodisperse and uniform DNA origami were observed by AFM (Figure 2). In Figure 2, four representative structures were marked. Structure 1 was the correct structure we were expecting, which was shown and analysed in Figure 1. The only less satisfactory aspect was the presence of a small gap in the upper right corner of the rectangle, suggesting that the assembly may not have been fully completed. Structure 2 was a very typical, incomplete assembled rectangle, with a size approximately half that of the normal one. Structure 3 was presumed to be a DNA origami that had completed the loading of all the links but failed to complete the final contraction and shaping steps. Structure 4 was a large cluster, which was hypothesised to be a polymer formed by several DNA nanotiles. Quite noisy background signals were displayed in Figure 2, which were considered to be unfiltered staples. However, due to the relatively high filtration loss rate and the required yield, our team maintained three-time filtration and did not conduct more rounds of filtration or any further purification steps.</p>

<img src="https://static.igem.wiki/teams/5913/wet-result/wet-a-2.webp" alt="AFM images with larger scanning area" style="max-width: 100%; height: auto;">
<p><strong>Figure 2. AFM images with a larger scanning area.</strong> In the figure, four representative structures were circled and numbered in red. Structure 1 was a rectangular shape that exhibited the correct size and a relatively complete structure. Structures 2 and 3 both had the correct height, but they did not present a rectangular shape. Structure 2 was slightly smaller in size, while structure 3 was slightly larger. The height and size of Structure 4 were both relatively large, and under the microscope, it appeared as a large aggregate. Numerous small molecules of a certain height (yellow dots) were widely distributed in the background. Scale bar: 500nm.</p>

<h2>2. Loading sgRNA<sub>L</sub>/Cas9 Complex On DNA Origami</h2>

<h3>Fluorescent Modification of sgRNA<sub>L</sub></h3>
<p>In the above experiment, we successfully assembled our DNA origami. The next step was to load the sgRNA<sub>L</sub>/Cas9 complex onto the basic plane of the DNA origami. To verify the loading of the sgRNA<sub>L</sub>/Cas9 complex, we employed a strategy of fluorescently labeling the sgRNA<sub>L</sub>/Cas9 complex to assess its successful incorporation onto the DNA origami.</p>

<p>Fluorescein isothiocyanate (FITC, green fluorescence, excitation wavelength = 495nm, maximum emission wavelength = 525nm) is a common fluorescent-modified molecule (comparatively, the reason why we don't directly use EGFP is that it is too large and does not meet the size requirements of our DNA origami structure). There are two ways to modify sgRNA<sub>L</sub>. One approach is to modify the amino groups attached to the tail end of the sgRNA<sub>L</sub>. The other method is to directly modify the amino groups on the A and C bases (3). The latter method has a lower labeling efficiency but more potential labeling sites, which were selected for use. Meanwhile, to enhance the modification efficiency, we replaced FITC with FITC-NHS ester.</p>

<p>According to Mirus's nucleic acid labelling protocol and previous research (3), the labeling and purification were conducted. The pre-synthesized sgRNA<sub>L</sub> and other labeling reagents were mixed and incubated at 37¬∞C for an hour, and the labeled nucleic acid was subsequently purified by the ethanol precipitation method. During the first purification step, the unreacted fluorescein will remain in the supernatant, while the fluorescein-labeled precipitate will appear dark brown. The presence of a white precipitate indicates that the reaction was unsuccessful. This could act as secondary evidence to examine if the labeling is successful. Similarly, the absorbance values at 260 nm and 495 nm were measured using a nanodrop for the product. Details of the procedure can be seen in the protocol (5 Fluorescent modification of sgRNA<sub>L</sub>).</p>

<p>In our experiment, during the purification and separation process, we observed a clear separation of solid and liquid phases, as well as a dark brown precipitate (Figure 3). The purified product was also observed to have two distinct absorption peaks at 260nm and 495nm wavelength, respectively corresponding to sgRNA<sub>L</sub> and FITC (Figure 4). These results confirmed that FITC successfully labeled sgRNA<sub>L</sub>. The molarity of 11.43 ŒºM and labeling efficiency of 6.7 were achieved, reaching the ideal values that satisfy the requirements of DNA origami assembly (15 nM) or fluorescence imaging (Table 1).</p>

<img src="https://static.igem.wiki/teams/5913/wet-result/wet-a-3.webp" alt="Fluorescence during ethanol purification" style="max-width: 100%; height: auto;">
<p><strong>Figure 3. Fluorescence during the ethanol purification process.</strong> The three pictures from left to right correspond respectively to situations after the first centrifugation, after the supernatant has been removed, and after the second washing solution has been added. The presence of dark brown sediment can be clearly seen in all pictures.</p>

<img src="https://static.igem.wiki/teams/5913/wet-result/wet-a-4.webp" alt="UV absorption spectrum" style="max-width: 100%; height: auto;">
<p><strong>Figure 4. UV absorption spectrum of one example FITC-sgRNA<sub>L</sub> product.</strong> There were two distinct absorption peaks at 260nm and 495nm, respectively, corresponding to sgRNA<sub>L</sub> and FITC.</p>

<table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th style="border: 1px solid #ddd; padding: 12px; text-align: left;"></th>
      <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">Molarity</th>
      <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">Volume</th>
      <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">Labeling Efficiency</th>
      <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">Recovery rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border: 1px solid #ddd; padding: 12px;">FITC-sgRNA<sub>L</sub></td>
      <td style="border: 1px solid #ddd; padding: 12px;">11.43 ¬µM</td>
      <td style="border: 1px solid #ddd; padding: 12px;">5 ¬µl</td>
      <td style="border: 1px solid #ddd; padding: 12px;">6.70</td>
      <td style="border: 1px solid #ddd; padding: 12px;">66.70%</td>
    </tr>
  </tbody>
</table>
<p><strong>Table 1. Profiles of one example set of FITC-labeled sgRNA<sub>L</sub> product.</strong> The molar concentration (absorbance/ extinction coefficient) was measured to be 11.43 ŒºM, with a purification yield of 5 ŒºL volume. The labeling efficiency of FITC (molarity of FITC/ molarity of sgRNA<sub>L</sub>) was calculated to be about 6.70. The recovery rate of sgRNA<sub>L</sub> (mass after purification/ mass before purification) was about 66.70%. Details of the calculation can be seen in the protocol.</p>

<h3>Loading of FITC-sgRNA<sub>L</sub>/Cas9 Complex</h3>
<p>In the preceding experiment, we have prepared the FITC-sgRNA<sub>L</sub>/Cas9 complex. The next step is to use this FITC-sgRNA<sub>L</sub>/Cas9 complex to verify its successful loading onto the DNA origami.</p>

<p>To confirm the loading of FITC-sgRNA<sub>L</sub>/Cas9 complex, we first labeled DNA origami with F-H conjugated with Cy5. We then loaded FITC-sgRNA<sub>L</sub>/Cas9 complex onto the Cy5-labeled DNA origami as the experimental group (Cy5-labeled DO<sub>PAM</sub>R<sub>FITC</sub>C). Two additional control groups were established: one containing only Cy5-labeled DNA origami (Cy5-labeled DO<sub>PAM</sub>) and the other containing only FITC-sgRNA<sub>L</sub>/Cas9 complex (R<sub>FITC</sub>C). As FITC and Cy5 exhibit absorbance peaks at 495nm and 650nm, respectively, we used Thermo Fisher Scientific NanoDrop One 2.12.0 and Python 3.13 to visualize the absorbance spectrum of each group. We then exported the absorbance data for these three groups and plotted the absorption spectrum for visualization (Figure 5). Details of the procedure can be seen in the protocol (6 Loading of FITC-sgRNA<sub>L</sub>_Cas9 complex).</p>

<p>Cy5-labeled DO<sub>PAM</sub> exhibited two absorption peaks: one at 260 nm, corresponding to DNA, and another at 650 nm, corresponding to Cy5 (Figure 5), indicating the successful Cy5-labeling of the DNA origami. In the group of Cy5-labeled DO<sub>PAM</sub>R<sub>FITC</sub>C, three distinct absorption peaks were observed: 260 nm for DNA/RNA, 495 nm for FITC, and 650 nm for Cy5 (Figure 5). These results confirmed successful loading of the FITC-sgRNA<sub>L</sub>/Cas9 complex onto the Cy5-labeled DNA origami.</p>

<img src="https://static.igem.wiki/teams/5913/wet-result/wet-a-5.webp" alt="UV absorption spectra" style="max-width: 100%; height: auto;">
<p><strong>Figure 5. The UV absorption spectra of Cy5-labeled DO<sub>PAM</sub>R<sub>FITC</sub>C, Cy5-labeled DO<sub>PAM</sub>, and R<sub>FITC</sub>C.</strong> Cy5-labeled DO<sub>PAM</sub> (red) exhibited characteristic peaks at 260 nm (DNA) and 650 nm (Cy5), while R<sub>FITC</sub>C (green) showed a peak at 495 nm (FITC). The combined Cy5-labeled DO<sub>PAM</sub>R<sub>FITC</sub>C (orange) displayed all three peaks (260, 495, and 650 nm).</p>

<h2>3. Loading G-Quadruplex/Hemin On DNA Origami</h2>

<h3>Dimerization</h3>
<p>Up to this point, we have successfully loaded the sgRNA<sub>L</sub>/Cas9 complex onto the basic plane of our DNA origami. The subsequent objective was to endow the DNA origami with a membrane-permeabilizing capability. To achieve this, we incorporated G-quadruplexes (G4s) onto the DNA origami through slow annealing. However, G4s have a known tendency to dimerize through stacking interactions (4). Considering spatial limitations and the increased local concentration of G4s on the DNA origami, it was necessary to investigate whether these conditions would promote significant dimerization.</p>

<p>To load G4s onto the DNA origami, we subjected the G4-DNA origami complex (DO<sub>PAM</sub>G) to slow annealing, cooling from 95 ¬∞C to 20 ¬∞C. This served as the experimental group. Two additional control groups were established: the M13 scaffold solution and the DNA origami (DO<sub>PAM</sub>) solution. Agarose gel electrophoresis was then employed to assess the extent of dimerization by evaluating the size of the resulting bands and assessing the extent of dimerization. Details are provided in the protocol (7 Dimerization).</p>

<p>Agarose gel electrophoresis analysis revealed the bands of DO<sub>PAM</sub>G and DO<sub>PAM</sub> with approximate sizes double that of M13, confirming the successful assembly of DNA origami (Figure 6). Notably, no significant difference was observed between the DO<sub>PAM</sub> and DO<sub>PAM</sub>G groups. Both groups displayed a single distinct band, suggesting that the attachment of G4s did not induce detectable dimerization (Figure 6).</p>

<img src="https://static.igem.wiki/teams/5913/wet-result/wet-a-6.webp" alt="Agarose gel electrophoresis" style="max-width: 100%; height: auto;">
<p><strong>Figure 6. 1% agarose gel electrophoresis analysis of M13, DO<sub>PAM</sub>, and DO<sub>PAM</sub>G.</strong> A. M13 scaffold solution. B. DO<sub>PAM</sub> solution. C. DO<sub>PAM</sub>G solution.</p>

<h3>Loading of Hemin</h3>
<p>So far, G4s have been successfully incorporated onto the DNA origami. However, only G4s did not exhibit peroxidase-mimicking activity. Instead, this catalytic activity arose from the formation of G4/hemin DNAzymes. Hence, the aim of the following experiment was to load hemin onto DNA origami and verify its proper incorporation.</p>

<p>To confirm the loading of hemin, we first incubated hemin with the G4-loaded DNA origami (DO<sub>PAM</sub>GH) at room temperature, serving as the experimental group. A control group was established, with G4-loaded DNA origami alone (DO<sub>PAM</sub>G) serving as a negative control. As hemin exhibits an absorbance peak around 400nm in the presence of DO<sub>PAM</sub>G (5), we used Thermo Fisher Scientific NanoDrop One 2.12.0 and Python 3.13 to visualize the absorbance spectrum of hemin-loaded DNA origami. We then exported the absorbance data for these three groups and plotted the absorption spectrum for visualization (Figure 7). Details are provided in the protocol (8 Loading of hemin).</p>

<p>DO<sub>PAM</sub>G exhibited a single absorption peak at 260 nm, corresponding to DNA (Figure 7). In contrast, the DO<sub>PAM</sub>GH exhibited two distinct absorption peaks: one at 260 nm, corresponding to DNA, and the other around 400nm, attributed to hemin (Figure 7). These results confirmed successful loading of the hemin onto the DO<sub>PAM</sub>G.</p>

<img src="https://static.igem.wiki/teams/5913/wet-result/wet-a-7.webp" alt="UV absorption spectra of hemin loading" style="max-width: 100%; height: auto;">
<p><strong>Figure 7. The UV absorption spectra of DO<sub>PAM</sub>G and DO<sub>PAM</sub>GH.</strong> DO<sub>PAM</sub>G (blue) exhibited an absorption peak at 260nm (DNA), while DO<sub>PAM</sub>GH (orange) exhibited two absorption peaks at 260nm and 400nm, corresponding to DNA and hemin, respectively.</p>

<h3>ABTS Assay: Detecting Catalytic Activity of G4/hemin</h3>
<p>With G4/hemin DNAzymes successfully incorporated, the DNA origami was expected to display peroxidase-mimicking activity, which was essential for membrane permeabilization. Accordingly, the core objective of the next experiment was to examine the peroxidase-mimicking activity of G4/hemin DNAzymes on DNA origami.</p>

<p>To evaluate the peroxidase-mimicking activities of G4/hemin DNAzymes, we used 2,2‚Ä≤-azinobis (3-ethylbenzthiazolin-6-sulfonic acid) (ABTS) assay. In this assay, ABTS is oxidised by hydrogen peroxide in the presence of peroxidase, forming ABTS cation-radical (ABTS<sup>‚Ä¢+</sup>), a blue-green chromophore with a maximal absorption at 415nm (6) (Figure 8). We designed four groups as follows: (i) buffer, ABTS, and H<sub>2</sub>O<sub>2</sub>. (ii) hemin, ABTS, and H<sub>2</sub>O<sub>2</sub>. (iii) free G4/hemin, ABTS, and H<sub>2</sub>O<sub>2</sub>. (iv) DO<sub>PAM</sub>GH, ABTS, and H<sub>2</sub>O<sub>2</sub>. By measuring the absorbance of the reaction systems at 415nm, we can indirectly evaluate the peroxidase-mimicking activities of G4/hemin. Details of the ABTS assay are provided in the protocol (9 ABTS assay of G4_hemin DNAzymes).</p>

<img src="https://static.igem.wiki/teams/5913/wet-result/wet-a-8.webp" alt="ABTS reaction system" style="max-width: 100%; height: auto;">
<p><strong>Figure 8. ABTS reaction system.</strong> ABTS is oxidised by hydrogen peroxide in the presence of G4/Hemin DNAzymes, forming ABTS cation-radical (ABTS<sup>‚Ä¢+</sup>).</p>

<p>The absorbance of the reaction system was monitored at 415 nm, corresponding to the maximum absorption wavelength of ABTS<sup>‚Ä¢+</sup>. Group (iv) treated with DO<sub>PAM</sub>GH exhibited significantly higher absorbance values compared with those treated with buffer, hemin alone, or free G4/hemin, indicating the enhanced peroxidase-mimicking activity of G4/hemin DNAzymes when assembled on DNA origami (Figure 9).</p>

<img src="https://static.igem.wiki/teams/5913/wet-result/wet-a-9.webp" alt="ABTS assay results" style="max-width: 100%; height: auto;">
<p><strong>Figure 9. The absorbance of each group at 415nm.</strong> The bar chart showed the average absorbance values obtained from the ABTS assay for various treatments, including buffer, hemin, free G4/hemin, and DO<sub>PAM</sub>GH. The DO<sub>PAM</sub>GH complex exhibited a significantly higher absorbance compared to all other groups (buffer, hemin, free G4/hemin). Data represented the mean ¬± s.d. from three independent replicates. Statistical significance was determined using a one-way ANOVA and post-hoc analysis, with **** representing p < 0.0001.</p>

<h3>NPN Uptake Assay: Membrane Permeabilization</h3>
<p>Having confirmed the peroxidase-mimicking activity of G4/hemin DNAzymes on DNA origami, we sought to investigate the effect of this catalytic activity on the membrane permeability of bacteria.</p>

<p>The hydrophobic fluorescent probe N-Phenyl-1-naphthylamine (NPN), which fluoresces weakly in aqueous environments but exhibits strong fluorescence in phospholipid conditions, has been widely used to evaluate the membrane integrity of bacteria (7). Due to the presence of lipopolysaccharide in the outer leaflet of the outer membrane, the lipophilic fluorescent probe cannot thoroughly permeate the intact bacteria (Figure 10). When the outer membrane is disrupted by permeabilizers, NPN can access the phospholipids and exhibits surges in fluorescent intensity upon excitation at 350nm wavelength (7) (Figure 10).</p>

<img src="https://static.igem.wiki/teams/5913/wet-result/wet-a-10.webp" alt="NPN fluorescence schematic" style="max-width: 100%; height: auto;">
<p><strong>Figure 10. Schematic representation of NPN fluorescence in bacterial membranes.</strong> In intact bacteria, NPN exhibits weak fluorescence due to the lipopolysaccharide layer on the outer membrane, preventing the probe from permeating. However, when the outer membrane is disrupted by permeabilizers, NPN gains access to the phospholipids, resulting in a significant increase in fluorescence upon excitation at 350nm wavelength.</p>

<p>Therefore, to evaluate the efficacy of G4/hemin DNAzymes, we used the NPN fluorescent probe to reflect the permeability of the bacterial outer membrane and to assess the effects of various membrane permeabilizers. We designed four groups as follows: (i) buffer and NPN, and (ii) buffer, bacterial suspension, and NPN, both serving as control groups. (iii) Buffer, bacterial suspension, EDTA Na<sub>2</sub>, and NPN were used as the positive control group. (iv) Buffer, bacterial suspension, DO<sub>PAM</sub>GH, and NPN were designated as the experimental group. After incubation, we measured the relative fluorescent units under a microplate reader and quantified the membrane permeabilization of each group via fluorescence values after background subtraction and NPN uptake factors. The fluorescence value after background subtraction is defined as the fluorescence value of each group minus the corresponding value of the same group without NPN (Table 2). The NPN uptake factor indicates the ratio of background-subtracted fluorescence values to that of the buffer value (Table 2). Details of the NPN uptake assay are provided in the protocol (10 NPN uptake assay).</p>

<p>In the experimental group (iv) treated with DO<sub>PAM</sub>GH, the fluorescence value after background subtraction and the NPN uptake factor were significantly higher than those of the control groups (i, ii) treated with buffer, bacterial suspension alone (Figures 11 and 12). This confirmed the membrane-permeabilizing activity of DO<sub>PAM</sub>GH. At the same time, we found that compared to the positive control group treated with EDTA Na<sub>2</sub>, the experimental group treated with DO<sub>PAM</sub>GH yielded a significant increase in fluorescence value and NPN uptake factor (Figures 11 and 12). This demonstrated the remarkable effect of DO<sub>PAM</sub>GH on membrane permeabilization.</p>

<img src="https://static.igem.wiki/teams/5913/wet-result/wet-a-11.webp" alt="Background-subtracted fluorescence values" style="max-width: 100%; height: auto;">
<p><strong>Figure 11. Bar graph showing the background-subtracted fluorescence values of four groups.</strong> The bar graph showed the average background-subtracted fluorescence values of four groups, including buffer, buffer and cell, EDTA, and DO<sub>PAM</sub>GH. The background-subtracted fluorescence values were expressed as relative fluorescent units (RFU). The group treated by DO<sub>PAM</sub>GH exhibited a significantly higher RFU compared to all other groups. Data represent the mean ¬± s.d. from three independent replicates. Statistical significance was determined using a one-way ANOVA and post-hoc analysis, with **** representing p < 0.0001.</p>

<img src="https://static.igem.wiki/teams/5913/wet-result/wet-a-12.webp" alt="NPN uptake factors" style="max-width: 100%; height: auto;">
<p><strong>Figure 12. Bar graph showing the NPN uptake factors of four groups.</strong> The NPN uptake factor indicated the ratio of background-subtracted fluorescence values to that of the buffer value. The NPN uptake factor correlated with the permeability of the bacterial outer membrane in the presence of different treatments, with the experimental group (DO<sub>PAM</sub>GH) showing the highest NPN uptake factor compared to the control and positive control groups.</p>

<table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">Sample</th>
      <th style="border: 1px solid #ddd; padding: 12px; text-align: center;">NPN</th>
      <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">Fluorescence value (mean¬±SD)</th>
      <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">Fluorescence value after background subtraction</th>
      <th style="border: 1px solid #ddd; padding: 12px; text-align: center;">NPN uptake factor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border: 1px solid #ddd; padding: 12px;">Buffer</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">-</td>
      <td style="border: 1px solid #ddd; padding: 12px;">191 ¬± 2.6</td>
      <td style="border: 1px solid #ddd; padding: 12px;"></td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;"></td>
    </tr>
    <tr>
      <td style="border: 1px solid #ddd; padding: 12px;">Buffer</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">+</td>
      <td style="border: 1px solid #ddd; padding: 12px;">1635 ¬± 3.3</td>
      <td style="border: 1px solid #ddd; padding: 12px;">1444</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">1</td>
    </tr>
    <tr>
      <td style="border: 1px solid #ddd; padding: 12px;">+ Cells</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">-</td>
      <td style="border: 1px solid #ddd; padding: 12px;">836 ¬± 6.1</td>
      <td style="border: 1px solid #ddd; padding: 12px;"></td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;"></td>
    </tr>
    <tr>
      <td style="border: 1px solid #ddd; padding: 12px;">+ Cells</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">+</td>
      <td style="border: 1px solid #ddd; padding: 12px;">5564 ¬± 89.4</td>
      <td style="border: 1px solid #ddd; padding: 12px;">4728</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">3.3</td>
    </tr>
    <tr>
      <td style="border: 1px solid #ddd; padding: 12px;">+ Cells + EDTA (1mmol l<sup>-1</sup>)</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">-</td>
      <td style="border: 1px solid #ddd; padding: 12px;">861 ¬± 3.3</td>
      <td style="border: 1px solid #ddd; padding: 12px;"></td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;"></td>
    </tr>
    <tr>
      <td style="border: 1px solid #ddd; padding: 12px;">+ Cells + EDTA (1mmol l<sup>-1</sup>)</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">+</td>
      <td style="border: 1px solid #ddd; padding: 12px;">6677 ¬± 18.5</td>
      <td style="border: 1px solid #ddd; padding: 12px;">5816</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">4.0</td>
    </tr>
    <tr>
      <td style="border: 1px solid #ddd; padding: 12px;">+ Cells + DO<sub>PAM</sub>GH (5nmol l<sup>-1</sup>)</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">-</td>
      <td style="border: 1px solid #ddd; padding: 12px;">884 ¬± 1.9</td>
      <td style="border: 1px solid #ddd; padding: 12px;"></td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;"></td>
    </tr>
    <tr>
      <td style="border: 1px solid #ddd; padding: 12px;">+ Cells + DO<sub>PAM</sub>GH (5nmol l<sup>-1</sup>)</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">+</td>
      <td style="border: 1px solid #ddd; padding: 12px;">8880 ¬± 73.3</td>
      <td style="border: 1px solid #ddd; padding: 12px;">7996</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">5.5</td>
    </tr>
  </tbody>
</table>
<p><strong>Table 2. Fluorescence values and NPN uptake factors obtained in the NPN uptake assay for membrane permeabilization using SpectraMax¬Æ iD5 Microplate Reader with <em>E. coli</em> ATCC 25922 as the test organism.</strong></p>

<h2>4. Loading Aptamer On DNA Origami</h2>

<h3>NPN Uptake Assay: Targeting Validation</h3>
<p>In addition to the membrane-permeabilizing activity mediated by G4/hemin DNAzymes, we endowed our DNA origami with recognition capability by incorporating DNA aptamers. DNA aptamers are oligonucleotides that bind to a specific target molecule (8). In our project, by adding aptamers to both sides of the DNA origami, its targeting ability can be equipped, allowing the drug to accumulate around the target and minimizing the damage to other cells, such as human cells. The aptamer specifically targeting MRSA was selected and optimized by our team (see <a href="design">Design: Aptamer Screening and Optimization</a>). However, experiments regarding MRSA are not allowed to be carried out in the wet lab. So, the classic and secure <em>E. coli</em> ATCC25922 and a known aptamer obtained from previous research were alternatively used (9).</p>

<p>Theoretically, DNA origami loaded with aptamers (DO<sup>A</sup>) would accumulate around <em>E. coli</em>, enhancing the effect of membrane permeabilization. Therefore, we continued to use the lipophilic fluorescent probe NPN to reflect the permeability of the bacterial outer membrane, indirectly determining the targeting ability of DO<sup>A</sup>. We established two groups: one treated with G4/hemin DNAzymes on DNA origami (DO<sub>PAM</sub>GH) as the control group, and the other treated with G4/hemin DNAzymes on aptamer-loaded DNA origami (DO<sup>A</sup><sub>PAM</sub>GH) as the experimental group. Fluorescence intensity was measured using a microplate reader, and membrane permeabilization was quantified by background-subtracted fluorescence values and NPN uptake factors (Table 3). Details of the NPN uptake assay are provided in the protocol (10 NPN uptake assay).</p>

<p>The background-subtracted fluorescence and NPN uptake factor in the DO<sup>A</sup><sub>PAM</sub>GH-treated group were significantly higher than those in the DO<sub>PAM</sub>GH control group (Figures 13 and 14). This result confirmed the enhanced targeting ability of DO<sup>A</sup><sub>PAM</sub>GH, demonstrating the effectiveness of DNA aptamers in facilitating targeted delivery and membrane permeabilization.</p>

<img src="https://static.igem.wiki/teams/5913/wet-result/wet-a-13.webp" alt="Background-subtracted fluorescence values comparison" style="max-width: 100%; height: auto;">
<p><strong>Figure 13. Bar graph showing the background-subtracted fluorescence values of two groups.</strong> The bar chart shows the average background-subtracted fluorescence values of two groups, including DO<sub>PAM</sub>GH and DO<sup>A</sup><sub>PAM</sub>GH. The background-subtracted fluorescence values were expressed as relative fluorescent units (RFU). The group treated by DO<sup>A</sup><sub>PAM</sub>GH exhibited a significantly higher RFU compared to the DO<sub>PAM</sub>GH. Data represent the mean ¬± s.d. from three independent replicates. Statistical significance was determined using a one-way ANOVA and post-hoc analysis, with **** representing p < 0.0001.</p>

<img src="https://static.igem.wiki/teams/5913/wet-result/wet-a-14.webp" alt="NPN uptake factors comparison" style="max-width: 100%; height: auto;">
<p><strong>Figure 14. Bar graph showing the NPN uptake factors of two groups.</strong> The NPN uptake factor indicated the ratio of background-subtracted fluorescence values to that of the buffer value. The NPN uptake factor correlated with the permeability of the bacterial outer membrane in the presence of different treatments, with the experimental group (DO<sup>A</sup><sub>PAM</sub>GH) showing the highest NPN uptake factor compared to the control group (DO<sub>PAM</sub>GH).</p>

<table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">Sample</th>
      <th style="border: 1px solid #ddd; padding: 12px; text-align: center;">NPN</th>
      <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">Fluorescence value (mean¬±SD)</th>
      <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">Fluorescence value after background subtraction</th>
      <th style="border: 1px solid #ddd; padding: 12px; text-align: center;">NPN uptake factor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border: 1px solid #ddd; padding: 12px;">+ Cells + DO<sub>PAM</sub>GH (5nmol l<sup>-1</sup>)</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">-</td>
      <td style="border: 1px solid #ddd; padding: 12px;">884 ¬± 1.9</td>
      <td style="border: 1px solid #ddd; padding: 12px;"></td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;"></td>
    </tr>
    <tr>
      <td style="border: 1px solid #ddd; padding: 12px;">+ Cells + DO<sub>PAM</sub>GH (5nmol l<sup>-1</sup>)</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">+</td>
      <td style="border: 1px solid #ddd; padding: 12px;">8880 ¬± 73.3</td>
      <td style="border: 1px solid #ddd; padding: 12px;">7996</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">5.5</td>
    </tr>
    <tr>
      <td style="border: 1px solid #ddd; padding: 12px;">+ Cells + DO<sup>A</sup><sub>PAM</sub>GH (5nmol l<sup>-1</sup>)</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">-</td>
      <td style="border: 1px solid #ddd; padding: 12px;">885 ¬± 2.2</td>
      <td style="border: 1px solid #ddd; padding: 12px;"></td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;"></td>
    </tr>
    <tr>
      <td style="border: 1px solid #ddd; padding: 12px;">+ Cells + DO<sup>A</sup><sub>PAM</sub>GH (5nmol l<sup>-1</sup>)</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">+</td>
      <td style="border: 1px solid #ddd; padding: 12px;">11791 ¬± 97.6</td>
      <td style="border: 1px solid #ddd; padding: 12px;">10906</td>
      <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">7.6</td>
    </tr>
  </tbody>
</table>
<p><strong>Table 3. Fluorescence values and NPN uptake factors obtained in the NPN uptake assay for targeting using SpectraMax¬Æ iD5 Microplate Reader with <em>E. coli</em> ATCC 25922 as the test organism.</strong></p>

<h3>LSM: Targeting Validation</h3>
<p>To more intuitively visualize the targeting ability of aptamer-loaded DNA origami, we employed confocal laser scanning microscopy (LSM) for validation.</p>

<p>In this experiment, we focused on directly visualizing the targeting of aptamer-loaded DNA origami, without assessing the permeability of the bacterial outer membrane. Therefore, G4s were not loaded onto the DNA origami in this experiment. To visualize the DNA origami, Cy5 was used as a fluorescent label, which could be detected under a fluorescence microscope. Two groups were designed: Cy5-labeled DNA origami (Cy5-labeled DO<sub>PAM</sub>) as the control group and Cy5-labeled aptamer-loaded DNA origami (Cy5-labeled DO<sup>A</sup><sub>PAM</sub>) as the experimental group. After assembly and incubation with <em>E. coli</em> for 15min at 37¬∞C, the mixture was washed with PBS once and observed under LSM 880 (Zeiss, Germany). The signals without co-localization with the bacteria were regarded as uncleaned Cy5 or Cy5-labeled DNA origami, which were subtracted as background. The signals observed on or around the bacteria were considered to represent the DNA origami that had successfully bound. These areas were selected for mean fluorescence intensity (MFI) quantitative analysis. By comparing and analyzing the fluorescence aggregation around the bacteria under the microscope, we could qualitatively and quantitatively assess the targeting effect of DO<sup>A</sup><sub>PAM</sub>. Detailed information can be found in the following protocol (11 Targeting validation by LSM) and handbook (Zeiss Confocal Microscope - LSM880 Handbook).</p>

<p>Under the LSM microscope, the Cy5-labeled DO<sup>A</sup><sub>PAM</sub> was obviously observed to be more likely to bind to the surface of the bacteria (Figure 15). MFI analysis further revealed that the MFI of the Cy5-labeled DO<sup>A</sup><sub>PAM</sub> group was significantly higher than that of the Cy5-labeled DO<sub>PAM</sub> group (Figure 16). These results provided relatively strong evidence for the targeted binding ability of DO<sup>A</sup><sub>PAM</sub>, highlighting the effectiveness of the aptamer (targeting component).</p>

<img src="https://static.igem.wiki/teams/5913/wet-result/wet-a-15.webp" alt="Confocal microscopy images" style="max-width: 100%; height: auto;">
<p><strong>Figure 15. Representative confocal microscopy images of <em>E. coli</em> cells after the incubation of Cy5-labeled DO<sub>PAM</sub> with or without the modification of the aptamer.</strong> Scale bar: 20¬µm x 20¬µm.</p>

<img src="https://static.igem.wiki/teams/5913/wet-result/wet-a-16.webp" alt="Mean fluorescence intensity quantification" style="max-width: 100%; height: auto;">
<p><strong>Figure 16. Quantification of the mean fluorescence intensity (MFI) of <em>E. coli</em> cells after the incubation of Cy5-labeled DO<sub>PAM</sub> with or without the modification of the aptamer.</strong> - Aptamer: Cy5-labeled DO<sub>PAM</sub> and + Aptamer: Cy5-labeled DO<sup>A</sup><sub>PAM</sub>. Data represented the mean ¬± s.d.. Statistical significance was calculated by the unpaired two-tailed Student's t-test, with *** representing p < 0.001.</p>

<h1>Protocol</h1>

<p><a href="https://static.igem.wiki/teams/5913/wet-protocol/3-preparation.pdf" target="_blank">3. Preparation (click me to open the protocol!)</a></p>

<p><a href="https://static.igem.wiki/teams/5913/wet-protocol/4-verification-of-the-dna-origami-structure-by-afm.pdf" target="_blank">4. Verification of the DNA origami structure by AFM (click me to open the protocol!)</a></p>

<p><a href="https://static.igem.wiki/teams/5913/wet-protocol/handbook/afm-handbook.pdf" target="_blank">4.1 Handbook: AFM cypher ES (click me to open the handbook!)</a></p>

<p><a href="https://static.igem.wiki/teams/5913/wet-protocol/5-fluorescent-modification-of-sgrnal.pdf" target="_blank">5. Fluorescent modification of sgRNA<sub>L</sub> (click me to open the protocol!)</a></p>

<p><a href="https://static.igem.wiki/teams/5913/wet-protocol/6-cas9-complex.pdf" target="_blank">6. Loading of FITC-sgRNA<sub>L</sub>/Cas9 complex (click me to open the protocol!)</a></p>

<p><a href="https://static.igem.wiki/teams/5913/wet-protocol/7-dimerization.pdf" target="_blank">7. Dimerization (click me to open the protocol!)</a></p>

<p><a href="https://static.igem.wiki/teams/5913/wet-protocol/8-loading-of-hemin.pdf" target="_blank">8. Loading of hemin (click me to open the protocol!)</a></p>

<p><a href="https://static.igem.wiki/teams/5913/wet-protocol/hemin-dnazymes.pdf" target="_blank">9. ABTS assay of G4/hemin DNAzymes (click me to open the protocol!)</a></p>

<p><a href="https://static.igem.wiki/teams/5913/wet-protocol/10-npn-uptake-assay.pdf" target="_blank">10. NPN uptake assay (click me to open the protocol!)</a></p>

<p><a href="https://static.igem.wiki/teams/5913/wet-protocol/11-targeting-validation-by-lsm.pdf" target="_blank">11. Targeting validation by LSM (click me to open the protocol!)</a></p>

<p><a href="https://static.igem.wiki/teams/5913/wet-protocol/handbook/1zeissconfocalmicroscope-lsm880handbook.pdf" target="_blank">11.2 Handbook: Zeiss LSM 880 (click me to open the handbook!)</a></p>

<h1>Notebook</h1>

<p><a href="https://static.igem.wiki/teams/5913/wet-protocol/notebook/notebook-for-assembly-final.pdf" target="_blank">Notebook for Assembly (click me to open the Notebook!)</a></p>

<h1>Reference</h1>
<ol>
  <li>Kolbeck PJ, Dass M, Martynenko IV, van Dijk-Moes RJA, Brouwer KJH, van Blaaderen A, et al. DNA Origami Fiducial for Accurate 3D Atomic Force Microscopy Imaging. Nano Lett. 2023 Feb 6;23(4):1236‚Äì43.</li>
  <li>Bald I, Keller A. Molecular Processes Studied at a Single-Molecule Level Using DNA Origami Nanostructures and Atomic Force Microscopy. Molecules. 2014 Sep 3;19(9):13803‚Äì23.</li>
  <li>Nasri M, Mir P, Dannenmann B, Amend D, Skroblyn T, Xu Y, et al. Fluorescent labeling of CRISPR/Cas9 RNP for gene knockout in HSPCs and iPSCs reveals an essential role for GADD45b in stress response. Blood Adv. 2019 Jan 8;3(1):63‚Äì71.</li>
  <li>Kogut M, Kleist C, Czub J. Why do G-quadruplexes dimerize through the 5'-ends? Driving forces for G4 DNA dimerization examined in atomic detail. PLoS Comput Biol. 2019 Sep 20;15(9):e1007383.</li>
  <li>Fabrication of Defined Polydopamine Nanostructures by DNA Origami‚ÄêTemplated Polymerization - Tokura - 2018 - Angewandte Chemie International Edition - Wiley Online Library [Internet]. [cited 2025 Sep 29]. Available from: https://onlinelibrary.wiley.com/doi/10.1002/anie.201711560</li>
  <li>Antioxidant activity applying an improved ABTS radical cation decolorization assay. Free Radical Biology and Medicine. 1999 May 1;26(9‚Äì10):1231‚Äì7.</li>
  <li>Helander IM, Mattila‚ÄêSandholm T. Fluorometric assessment of Gram‚Äênegative bacterial permeabilization. J Appl Microbiol. 2000 Feb 1;88(2):213‚Äì9.</li>
  <li>Han≈æek A. Development of the aptamers for detection of ovarian cancer biomarkers in urine. 2023 [cited 2025 Sep 29]; Available from: https://rgdoi.net/10.13140/RG.2.2.36760.98566</li>
  <li>Mela I, Vallejo‚ÄêRamirez PP, Makarchuk S, Christie G, Bailey D, Henderson RM, et al. DNA Nanostructures for Targeted Antimicrobial Delivery. Angew Chem Int Ed Engl. 2020 Jul 27;59(31):12698‚Äì702.</li>
</ol>
</div>

          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <!-- <footer class="pt-5 pb-5 footer py-5 mt-5 bg-dark text-white">
  <div class="container">
    <div class="row mb-4">
      <div class="col-lg-6 col-xs-12">
        <h4 class="mb-3">Heading</h4>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ac ante mollis quam tristique convallis</p>
      </div>
      <div class="col-lg-3 col-xs-12">
        <h4 class="mt-lg-0 mt-sm-3">Links</h4>
          <ul class="m-2 p-2">
            <li><a href="#">Lorem ipsum</a></li>
            <li><a href="#">Nam mauris velit</a></li>
            <li><a href="#">Etiam vitae mauris</a></li>
            <li><a href="#">Fusce scelerisque</a></li>
            <li><a href="#">Sed faucibus</a></li>
            <li><a href="#">Mauris efficitur nulla</a></li>
          </ul>
      </div>
      <div class="col-lg-3 col-xs-12">
        <h4 class="mt-lg-0 mt-sm-4 mb-3">Contact</h4>
        <p>22, Lorem ipsum dolor, consectetur adipiscing</p>
        <p class="mb-0">(541) 754-3010</p>
        <p>info@hsdf.com</p>
      </div>
    </div>
    <hr>
    The following MUST be on every page: license information and link to the repository on gitlab.igem.org
    <div class="row mt-4">
      <div class="col" style="text-align:center;">
        <p class="mb-0"><small> 2025 - Content on this site is licensed under a <a class="subfoot" href="https://creativecommons.org/licenses/by/4.0/" rel="license">Creative Commons Attribution 4.0 International license</a>.</small></p>
	      <p><small>The repository used to create this website is available at <a href="https://gitlab.igem.org/2025/izju-china">gitlab.igem.org/2025/izju-china</a>.</small></p>
      </div>
    </div>
  </div>
</footer> -->

<footer class="my-footer-container">
  <div class="my-footer">
    <div class="footer-navigation">
      <!-- Single row with all five main categories -->
      <div class="footer-row">
        <div class="footer-navbars">
          <div class="footer-navbar-title"><span>Project</span></div>
          <div class="footer-navbar-contents"><a href="background">Background</a></div>
          <div class="footer-navbar-contents"><a href="description">Description</a></div>
          <div class="footer-navbar-contents"><a href="engineering">Engineering</a></div>
          <div class="footer-navbar-contents"><a href="contribution">Contribution</a>
          </div>
          <div class="footer-navbar-contents"><a href="implementation">Implementation</a>
          </div>
          <div class="footer-navbar-contents"><a href="project-future">Future</a></div>
        </div>
        <div class="footer-navbars">
          <div class="footer-navbar-title"><span>Dry Lab</span></div>
          <div class="footer-navbar-contents"><a href="design">Design</a></div>
          <div class="footer-navbar-contents"><a href="model">Model</a></div>
        </div>
        <div class="footer-navbars">
          <div class="footer-navbar-title"><span>Wet Lab</span></div>
          <div class="footer-navbar-contents"><a href="wetlab-overview">Overview</a>
          </div>
          <div class="footer-navbar-contents"><a href="gene-cleavage">Gene Cleavage</a>
          </div>
          <div class="footer-navbar-contents"><a href="assembly">Assembly</a></div>
          <div class="footer-navbar-contents"><a href="validation">Validation</a></div>
          <div class="footer-navbar-contents"><a href="wetlab-future">Future</a></div>
          <div class="footer-navbar-contents"><a href="parts">Part</a></div>
        </div>
        <div class="footer-navbars">
          <div class="footer-navbar-title"><span>Human Practice</span></div>
          <div class="footer-navbar-contents"><a href="human-practices">iHP</a></div>
          <div class="footer-navbar-contents"><a
              href="entrepreneurship">Entrepreneurship</a></div>
          <div class="footer-navbar-contents"><a href="collaborations">Collaboration</a>
          </div>
          <div class="footer-navbar-contents"><a href="safety">Safety</a></div>
        </div>
        <div class="footer-navbars">
          <div class="footer-navbar-title"><span>Team</span></div>
          <div class="footer-navbar-contents"><a href="roster">Roster</a></div>
          <div class="footer-navbar-contents"><a href="attributions">Attribution</a>
          </div>
          <div class="footer-navbar-contents"><a href="awards">Awards</a></div>
        </div>
      </div>
    </div>
    <div class="footer-logos">
      <img src="https://static.igem.wiki/teams/5913/picture/logo6.webp" alt="IZJU-CHINA Logo">
    </div>
    <div class="footer-infos">
      <p><small>¬© 2025 - Content on this site is licensed under a <a href="https://creativecommons.org/licenses/by/4.0/"
            rel="license">Creative Commons Attribution 4.0 International license</a>.</small></p>
      <p><small>The repository used to create this website is available at <a
            href="https://gitlab.igem.org/2025/izju-china">gitlab.igem.org/2025/izju-china</a>.</small></p>
    </div>
  </div>
</footer>

  <!-- Global Back-to-Top Button -->
  <a id="global-back-to-top" href="#" aria-label="Back to top" title="Back to top">
    <img src="https://static.igem.wiki/teams/5913/picture/uptotop.webp" alt="Back to top" class="global-btt-image">
  </a>

  <!-- ScrollReveal -->
  <script src="static/scrollreveal.js"></script>

  <!-- MathJax Configuration and Loading -->
  <script type="text/javascript">
    window.MathJax = {
      tex2jax: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      },
      displayAlign: 'center',
      "HTML-CSS": {
        styles: { '.MathJax_Display': { margin: '1em 0' } },
        linebreaks: { automatic: true }
      }
    };
  </script>
  <script type="text/javascript" async
    src="static/MathJax-2.7.7/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>

  <!-- Dark mode script: place after menu.html to bind #theme-toggle click event -->
  <script src="static/theme.js?v=2"></script>
  <!-- Unified sidebar logic/icons -->
  <script src="static/sidebar-common.js?v=1"></script>

  <!-- Search functionality script -->
  <script src="static/search.js"></script>

  <!-- Loading page script -->
  <script src="static/loading.js?v=3"></script>

  <!-- Optional: make navigation background more solid when scrolling down -->
  <script>
    window.addEventListener('scroll', () => {
      const nav = document.querySelector('.my-nav');
      if (!nav) return;
      nav.classList.toggle('scrolled', window.scrollY > 10);
    });
  </script>



  <!-- Global Back-to-Top Button Functionality -->
  <script>
    // Global Back-to-Top button behavior
    document.addEventListener('DOMContentLoaded', function () {
      try {
        var btt = document.getElementById('global-back-to-top');
        if (btt) {
          var toggleBtt = function () {
            var shouldShow = (window.pageYOffset || document.documentElement.scrollTop) > 300;
            if (shouldShow) {
              btt.classList.add('show');
            } else {
              btt.classList.remove('show');
            }
          };
          window.addEventListener('scroll', toggleBtt, { passive: true });
          window.addEventListener('load', toggleBtt);
          btt.addEventListener('click', function (ev) {
            ev.preventDefault();
            window.scrollTo({ top: 0, behavior: 'smooth' });
          });
        }
      } catch (e) {
        console.warn('Global back-to-top button initialization failed:', e);
      }
    });
  </script>

  <!-- Sidebar functionality -->
  <script>
    // Sidebar menu functionality
    function bind(tagStr, eventStr, func) {
      let el = document.querySelectorAll(tagStr);
      el.forEach((item) => item.addEventListener(eventStr, func))
    }

    // Smooth scroll to element and place it in upper-middle area of viewport
    function smoothScrollToElement(targetElement, offsetRatio = 0.3) {
      if (!targetElement) return;

      // Get navbar height
      const nav = document.querySelector('.my-nav');
      const navHeight = nav ? nav.getBoundingClientRect().height : 0;


      const viewportHeight = window.innerHeight || document.documentElement.clientHeight || 800;


      const desiredOffsetFromTop = Math.floor(viewportHeight * offsetRatio) + navHeight;


      const targetRect = targetElement.getBoundingClientRect();
      const targetTop = targetRect.top + window.pageYOffset;


      const scrollToPosition = Math.max(0, targetTop - desiredOffsetFromTop);

      console.log('Scroll calculation:', {
        targetTop,
        navHeight,
        viewportHeight,
        desiredOffsetFromTop,
        scrollToPosition,
        currentScroll: window.pageYOffset
      });

      window.scrollTo({
        top: scrollToPosition,
        behavior: 'smooth'
      });
    }

    function stickyMenu() {

      function adjustSidebarDimensions() {
        const menu = document.getElementById('menu');
        const menubg = document.querySelector('.menubg');
        const content = document.getElementById('content');
        const footer = document.querySelector('.my-footer-container');

        if (menu && menubg && content) {

          if (document.body.classList.contains('no-sidebar')) {
            menubg.style.display = 'none';
            menubg.style.position = 'relative';
            content.style.marginLeft = '0px';
            content.style.width = '100%';
            if (footer) {
              footer.style.marginLeft = '0px';
              footer.style.width = '100%';
            }
            return;
          }

          const isMobile = window.innerWidth <= 920;

          if (isMobile) {

            menubg.style.display = 'none';
            menubg.style.position = 'relative';
            content.style.marginLeft = '0px';
            content.style.width = '100%';

            if (footer) {
              footer.style.marginLeft = '0px';
              footer.style.width = '100%';
            }
          } else {

            menubg.style.display = 'block';
            menubg.style.position = 'fixed';
            menubg.style.top = '0';
            menubg.style.left = '0';
            menubg.style.width = '250px';
            menubg.style.height = '100vh';
            content.style.marginLeft = '250px';
            content.style.width = 'calc(100% - 250px)';

            if (footer) {
              footer.style.marginLeft = '250px';
              footer.style.width = 'calc(100% - 250px)';
            }
          }
        }
      }


      adjustSidebarDimensions();


      window.addEventListener('resize', adjustSidebarDimensions);
    }

    let cb_t1 = function (e) {

      let t1 = [...document.querySelectorAll("#menu .t1")];
      t1.forEach((item) => item.classList.remove("unfold"));
      e.currentTarget.classList.add("unfold");


      const targetId = e.currentTarget.getAttribute("tid");
      const targetElement = document.getElementById(targetId);
      if (targetElement) smoothScrollToElement(targetElement, 0.3);


      window.userManualNavigation = true;
      setTimeout(() => {
        window.userManualNavigation = false;
      }, 800);
    }

    let cb_t2 = function (e) {

      const targetId = e.currentTarget.getAttribute("tid");
      const targetElement = document.getElementById(targetId);
      if (targetElement) smoothScrollToElement(targetElement, 0.3);


      window.userManualNavigation = true;
      setTimeout(() => {
        window.userManualNavigation = false;
      }, 800);
    }

    let cb_t3 = function (e) {

      const targetId = e.currentTarget.getAttribute("tid");
      const targetElement = document.getElementById(targetId);
      if (targetElement) smoothScrollToElement(targetElement, 0.3);


      window.userManualNavigation = true;
      setTimeout(() => {
        window.userManualNavigation = false;
      }, 800);
    }

    let cb_t4 = function (e) {

      const targetId = e.currentTarget.getAttribute("tid");
      const targetElement = document.getElementById(targetId);
      if (targetElement) smoothScrollToElement(targetElement, 0.3);


      window.userManualNavigation = true;
      setTimeout(() => {
        window.userManualNavigation = false;
      }, 800);
    }

    let cb_t5 = function (e) {

      const targetId = e.currentTarget.getAttribute("tid");
      const targetElement = document.getElementById(targetId);
      if (targetElement) smoothScrollToElement(targetElement, 0.3);


      window.userManualNavigation = true;
      setTimeout(() => {
        window.userManualNavigation = false;
      }, 800);
    }


    function initScrollHighlight() {
      // Support both old content structure and new Safety-style structure
      const sections = document.querySelectorAll('#content h1, #content h2, #content h3, #content h4, #content h5, #auto-page-content h1, #auto-page-content h2, #auto-page-content h3, #auto-page-content h4, #auto-page-content h5');
      const menuItems = {
        t1: document.querySelectorAll('#menu .t1'),
        t2: document.querySelectorAll('#menu .t2'),
        t3: document.querySelectorAll('#menu .t3'),
        t4: document.querySelectorAll('#menu .t4'),
        t5: document.querySelectorAll('#menu .t5')
      };

      function updateActiveSection() {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const nav = document.querySelector('.my-nav');
        const navHeight = nav ? nav.getBoundingClientRect().height : 0;
        const viewportHeight = window.innerHeight || document.documentElement.clientHeight || 800;
        const dynamicOffset = Math.floor(viewportHeight * 0.3) + navHeight;

        let activeSection = null;
        let activeSubsection = null;
        let activeSubSubsection = null;
        let activeH4 = null;
        let activeH5 = null;
        let closestSection = null;
        let minDistance = Infinity;


        sections.forEach(section => {
          const rect = section.getBoundingClientRect();
          const sectionTop = rect.top + scrollTop;
          const distance = Math.abs(sectionTop - (scrollTop + dynamicOffset));

          if (distance < minDistance) {
            minDistance = distance;
            closestSection = section;
          }



          const targetPosition = scrollTop + dynamicOffset;
          const tolerance = 50; // 50px

          if (Math.abs(sectionTop - targetPosition) <= tolerance) {
            if (section.tagName === 'H1') {
              activeSection = section;
            } else if (section.tagName === 'H2') {
              activeSubsection = section;
            } else if (section.tagName === 'H3') {
              activeSubSubsection = section;
            } else if (section.tagName === 'H4') {
              activeH4 = section;
            } else if (section.tagName === 'H5') {
              activeH5 = section;
            }
          }
        });


        if (!activeSection && !activeSubsection && !activeSubSubsection && !activeH4 && !activeH5 && closestSection) {
          if (closestSection.tagName === 'H1') {
            activeSection = closestSection;
          } else if (closestSection.tagName === 'H2') {
            activeSubsection = closestSection;
          } else if (closestSection.tagName === 'H3') {
            activeSubSubsection = closestSection;
          } else if (closestSection.tagName === 'H4') {
            activeH4 = closestSection;
          } else if (closestSection.tagName === 'H5') {
            activeH5 = closestSection;
          }
        }

        // unfold
        menuItems.t1.forEach(item => {
          item.classList.remove('active', 'show');
          // unfold
        });
        menuItems.t2.forEach(item => item.classList.remove('active', 'show'));
        menuItems.t3.forEach(item => item.classList.remove('active', 'show'));
        menuItems.t4.forEach(item => item.classList.remove('active', 'show'));
        menuItems.t5.forEach(item => item.classList.remove('active', 'show'));


        if (activeSection) {
          const activeT1 = document.querySelector(`#menu .t1[tid="${activeSection.id}"]`);
          if (activeT1) {
            activeT1.classList.add('active', 'show');

            if (!activeT1.classList.contains('unfold')) {

              const nextElement = activeT1.nextElementSibling;
              if (nextElement && nextElement.classList.contains('h2-sec') && nextElement.children.length > 0) {
                activeT1.classList.add('unfold');
              }
            }
          }
        }


        if (activeSubsection) {
          const activeT2 = document.querySelector(`#menu .t2[tid="${activeSubsection.id}"]`);
          if (activeT2) {
            activeT2.classList.add('active', 'show');

            const parentT1 = activeT2.closest('.h2-sec').previousElementSibling;
            if (parentT1 && parentT1.classList.contains('t1')) {
              parentT1.classList.add('active', 'show');

              if (!parentT1.classList.contains('unfold')) {
                parentT1.classList.add('unfold');
              }
            }
          }
        }


        if (activeSubSubsection) {
          const activeT3 = document.querySelector(`#menu .t3[tid="${activeSubSubsection.id}"]`);
          if (activeT3) {
            activeT3.classList.add('active', 'show');
            // (t2t1)
            const parentT2 = activeT3.closest('.h3-sec').previousElementSibling;
            if (parentT2 && parentT2.classList.contains('t2')) {
              parentT2.classList.add('active', 'show');
              // t2
              if (!parentT2.classList.contains('unfold')) {
                const nextElement = parentT2.nextElementSibling;
                if (nextElement && nextElement.classList.contains('h3-sec') && nextElement.children.length > 0) {
                  parentT2.classList.add('unfold');
                }
              }


              const parentT1 = parentT2.closest('.h2-sec').previousElementSibling;
              if (parentT1 && parentT1.classList.contains('t1')) {
                parentT1.classList.add('active', 'show');

                if (!parentT1.classList.contains('unfold')) {
                  parentT1.classList.add('unfold');
                }
              }
            }
          }
        }

        // Handle h4 highlighting
        if (activeH4) {
          const activeT4 = document.querySelector(`#menu .t4[tid="${activeH4.id}"]`);
          if (activeT4) {
            activeT4.classList.add('active', 'show');
            // Activate parent t3
            const parentT3 = activeT4.closest('.h4-sec').previousElementSibling;
            if (parentT3 && parentT3.classList.contains('t3')) {
              parentT3.classList.add('active', 'show');
              // Unfold t3 if needed
              if (!parentT3.classList.contains('unfold')) {
                const nextElement = parentT3.nextElementSibling;
                if (nextElement && nextElement.classList.contains('h4-sec') && nextElement.children.length > 0) {
                  parentT3.classList.add('unfold');
                }
              }

              // Activate parent t2
              const parentT2 = parentT3.closest('.h3-sec').previousElementSibling;
              if (parentT2 && parentT2.classList.contains('t2')) {
                parentT2.classList.add('active', 'show');
                if (!parentT2.classList.contains('unfold')) {
                  parentT2.classList.add('unfold');
                }

                // Activate parent t1
                const parentT1 = parentT2.closest('.h2-sec').previousElementSibling;
                if (parentT1 && parentT1.classList.contains('t1')) {
                  parentT1.classList.add('active', 'show');
                  if (!parentT1.classList.contains('unfold')) {
                    parentT1.classList.add('unfold');
                  }
                }
              }
            }
          }
        }

        // Handle h5 highlighting
        if (activeH5) {
          const activeT5 = document.querySelector(`#menu .t5[tid="${activeH5.id}"]`);
          if (activeT5) {
            activeT5.classList.add('active', 'show');
            // Activate parent t4
            const parentT4 = activeT5.closest('.h5-sec').previousElementSibling;
            if (parentT4 && parentT4.classList.contains('t4')) {
              parentT4.classList.add('active', 'show');
              // Unfold t4 if needed
              if (!parentT4.classList.contains('unfold')) {
                const nextElement = parentT4.nextElementSibling;
                if (nextElement && nextElement.classList.contains('h5-sec') && nextElement.children.length > 0) {
                  parentT4.classList.add('unfold');
                }
              }

              // Activate parent t3
              const parentT3 = parentT4.closest('.h4-sec').previousElementSibling;
              if (parentT3 && parentT3.classList.contains('t3')) {
                parentT3.classList.add('active', 'show');
                if (!parentT3.classList.contains('unfold')) {
                  parentT3.classList.add('unfold');
                }

                // Activate parent t2
                const parentT2 = parentT3.closest('.h3-sec').previousElementSibling;
                if (parentT2 && parentT2.classList.contains('t2')) {
                  parentT2.classList.add('active', 'show');
                  if (!parentT2.classList.contains('unfold')) {
                    parentT2.classList.add('unfold');
                  }

                  // Activate parent t1
                  const parentT1 = parentT2.closest('.h2-sec').previousElementSibling;
                  if (parentT1 && parentT1.classList.contains('t1')) {
                    parentT1.classList.add('active', 'show');
                    if (!parentT1.classList.contains('unfold')) {
                      parentT1.classList.add('unfold');
                    }
                  }
                }
              }
            }
          }
        }
      }


      let scrollTimeout;
      window.addEventListener('scroll', () => {

        if (window.userManualNavigation) {
          return;
        }
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(updateActiveSection, 10);
      });


      setTimeout(updateActiveSection, 100);


      console.log('Scroll highlight initialized with', sections.length, 'sections');
    }

    // Initialize sidebar functionality
    if (document.getElementById("menu")) {
      stickyMenu();
      initScrollHighlight();
      bind("#menu .t1", "click", cb_t1);
      bind("#menu .t2", "click", cb_t2);
      bind("#menu .t3", "click", cb_t3);
      bind("#menu .t4", "click", cb_t4);
      bind("#menu .t5", "click", cb_t5);
    }

    // Safety-style navigation generation for pages with auto-page-content
    function initSafetyStyleNavigation() {
      // Skip when a page defines its own converter (e.g., Collaboration page)
      if (document.getElementById('auto-collaboration-content')) return;
      const contentRoot = document.getElementById('auto-page-content');
      if (!contentRoot) return;

      function slugify(text) {
        return text.toLowerCase()
          .replace(/[^a-z0-9\u4e00-\u9fa5\s\.-]/g, '')
          .trim()
          .replace(/\s+/g, '-');
      }

      // Promote <p><strong>Title</strong></p> to <h1>/<h2>
      const paragraphs = Array.from(contentRoot.querySelectorAll('p'));
      const promoted = [];
      paragraphs.forEach(p => {
        const strong = p.querySelector('strong');
        if (!strong) return;
        const text = strong.textContent.trim();
        if (!text) return;

        const isThirdLevel = /^\d+\.\d+\.\d+/.test(text); // 3.2.1 format
        const isSecondLevel = /^\d+\.\d+/.test(text) && !isThirdLevel; // 3.2 format but not 3.2.1
        const isTopNumbered = /^\d+\./.test(text) && !isSecondLevel && !isThirdLevel; // 3. format
        const isOverview = /^overview$/i.test(text.trim());
        const isSafety = /^safety$/i.test(text.trim()); // Handle the first "Safety" title
        const level = isThirdLevel ? 'H3' : (isSecondLevel ? 'H2' : (isTopNumbered || isOverview || isSafety ? 'H1' : null));
        if (!level) return;

        // Convert "Safety" to "Overview" for consistency
        const finalText = isSafety ? 'Overview' : text;
        const id = slugify(finalText);
        const h = document.createElement(level);
        h.textContent = finalText.replace(/\s+$/, '');
        h.id = id;

        // Replace paragraph with heading
        p.parentNode.replaceChild(h, p);
        promoted.push(h);
      });

      // Build sidebar menu from generated headings
      const menu = document.getElementById('menu');
      const menubg = document.querySelector('.menubg');
      if (!menu || !menubg) return;
      // Clear existing items
      menu.innerHTML = '';

      // Group headings with proper hierarchy (h1 > h2 > h3 > h4 > h5)
      const headings = Array.from(contentRoot.querySelectorAll('h1, h2, h3, h4, h5'));
      let currentH2Container = null;
      let currentH3Container = null;
      let currentH4Container = null;
      let currentH5Container = null;

      // First pass: collect all headings and determine which ones have children
      const headingInfo = headings.map((node, index) => {
        const level = parseInt(node.tagName.charAt(1));
        const nextHeading = headings[index + 1];
        const hasChildren = nextHeading && parseInt(nextHeading.tagName.charAt(1)) > level;

        return {
          node,
          level,
          hasChildren,
          id: node.id,
          text: node.textContent
        };
      });

      headingInfo.forEach((info, index) => {
        if (info.level === 1) {
          const t1 = document.createElement('div');
          t1.className = 't1';
          t1.setAttribute('tid', info.id);

          // Create text span
          const textSpan = document.createElement('span');
          textSpan.className = 'heading-text';
          textSpan.textContent = info.text;
          t1.appendChild(textSpan);

          // Add expand icon if has children
          if (info.hasChildren) {
            const icon = document.createElement('span');
            icon.className = 'expand-icon';
            icon.innerHTML = '‚ñ∂';
            t1.appendChild(icon);
          }

          menu.appendChild(t1);

          const h2sec = document.createElement('div');
          h2sec.className = 'h2-sec';
          menu.appendChild(h2sec);

          currentH2Container = h2sec;
          currentH3Container = null; // Reset h3 container when new h1 starts
          currentH4Container = null; // Reset h4 container when new h1 starts
          currentH5Container = null; // Reset h5 container when new h1 starts
        } else if (info.level === 2) {
          if (!currentH2Container) {
            currentH2Container = document.createElement('div');
            currentH2Container.className = 'h2-sec';
            menu.appendChild(currentH2Container);
          }
          const t2 = document.createElement('div');
          t2.className = 't2';
          t2.setAttribute('tid', info.id);

          // Create text span
          const textSpan = document.createElement('span');
          textSpan.className = 'heading-text';
          textSpan.textContent = info.text;
          t2.appendChild(textSpan);

          // Add expand icon if has children
          if (info.hasChildren) {
            const icon = document.createElement('span');
            icon.className = 'expand-icon';
            icon.innerHTML = '‚ñ∂';
            t2.appendChild(icon);
          }

          currentH2Container.appendChild(t2);

          // Create container for h3 items under this h2
          const h3sec = document.createElement('div');
          h3sec.className = 'h3-sec';
          currentH2Container.appendChild(h3sec);
          currentH3Container = h3sec;
          currentH4Container = null; // Reset h4 container when new h2 starts
          currentH5Container = null; // Reset h5 container when new h2 starts
        } else if (info.level === 3) {
          if (!currentH3Container) {
            // If no h2 container exists, create one
            if (!currentH2Container) {
              currentH2Container = document.createElement('div');
              currentH2Container.className = 'h2-sec';
              menu.appendChild(currentH2Container);
            }
            currentH3Container = document.createElement('div');
            currentH3Container.className = 'h3-sec';
            currentH2Container.appendChild(currentH3Container);
          }
          const t3 = document.createElement('div');
          t3.className = 't3';
          t3.setAttribute('tid', info.id);

          // Create text span
          const textSpan = document.createElement('span');
          textSpan.className = 'heading-text';
          textSpan.textContent = info.text;
          t3.appendChild(textSpan);

          // Add expand icon if has children
          if (info.hasChildren) {
            const icon = document.createElement('span');
            icon.className = 'expand-icon';
            icon.innerHTML = '‚ñ∂';
            t3.appendChild(icon);
          }

          currentH3Container.appendChild(t3);

          // Create container for h4 items under this h3
          const h4sec = document.createElement('div');
          h4sec.className = 'h4-sec';
          currentH3Container.appendChild(h4sec);
          currentH4Container = h4sec;
          currentH5Container = null; // Reset h5 container when new h3 starts
        } else if (info.level === 4) {
          if (!currentH4Container) {
            // If no h3 container exists, create one
            if (!currentH3Container) {
              if (!currentH2Container) {
                currentH2Container = document.createElement('div');
                currentH2Container.className = 'h2-sec';
                menu.appendChild(currentH2Container);
              }
              currentH3Container = document.createElement('div');
              currentH3Container.className = 'h3-sec';
              currentH2Container.appendChild(currentH3Container);
            }
            currentH4Container = document.createElement('div');
            currentH4Container.className = 'h4-sec';
            currentH3Container.appendChild(currentH4Container);
          }
          const t4 = document.createElement('div');
          t4.className = 't4';
          t4.setAttribute('tid', info.id);

          // Create text span
          const textSpan = document.createElement('span');
          textSpan.className = 'heading-text';
          textSpan.textContent = info.text;
          t4.appendChild(textSpan);

          // Add expand icon if has children
          if (info.hasChildren) {
            const icon = document.createElement('span');
            icon.className = 'expand-icon';
            icon.innerHTML = '‚ñ∂';
            t4.appendChild(icon);
          }

          currentH4Container.appendChild(t4);

          // Create container for h5 items under this h4
          const h5sec = document.createElement('div');
          h5sec.className = 'h5-sec';
          currentH4Container.appendChild(h5sec);
          currentH5Container = h5sec;
        } else if (info.level === 5) {
          if (!currentH5Container) {
            // If no h4 container exists, create one
            if (!currentH4Container) {
              if (!currentH3Container) {
                if (!currentH2Container) {
                  currentH2Container = document.createElement('div');
                  currentH2Container.className = 'h2-sec';
                  menu.appendChild(currentH2Container);
                }
                currentH3Container = document.createElement('div');
                currentH3Container.className = 'h3-sec';
                currentH2Container.appendChild(currentH3Container);
              }
              currentH4Container = document.createElement('div');
              currentH4Container.className = 'h4-sec';
              currentH3Container.appendChild(currentH4Container);
            }
            currentH5Container = document.createElement('div');
            currentH5Container.className = 'h5-sec';
            currentH4Container.appendChild(currentH5Container);
          }
          const t5 = document.createElement('div');
          t5.className = 't5';
          t5.setAttribute('tid', info.id);
          t5.textContent = info.text;
          currentH5Container.appendChild(t5);
        }
      });

      // Re-bind sidebar interactions
      if (typeof window !== 'undefined') {
        const clickBind = function (selector, event, cb) {
          document.querySelectorAll(selector).forEach(el => el.addEventListener(event, cb));
        };

        clickBind('#menu .t1', 'click', cb_t1);
        clickBind('#menu .t2', 'click', cb_t2);
        clickBind('#menu .t3', 'click', cb_t3);
        clickBind('#menu .t4', 'click', cb_t4);
        clickBind('#menu .t5', 'click', cb_t5);
      }
    }

    // Initialize Safety-style navigation if applicable
    document.addEventListener('DOMContentLoaded', function () {
      initSafetyStyleNavigation();
    });

    // ScrollReveal functionality for sidebar
    window.addEventListener('load', function () {
      if (typeof ScrollReveal !== 'undefined') {
        ScrollReveal().reveal('.lr', {
          reset: true,
          origin: 'left',
          distance: '200px',
          duration: 1000,
          easing: 'ease',
          opacity: 0
        });
        ScrollReveal().reveal('.rl', {
          reset: true,
          origin: 'right',
          distance: '200px',
          duration: 1000,
          easing: 'ease',
          opacity: 0
        });


      }
    });
  </script>

  <script src="static/pagefind/pagefind-ui.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const el = document.querySelector('#search');
      if (!el) return;

      // Calculate Pagefind directory (avoid frozen 404 from directory URL)
      const PF_UI_SRC = "static/pagefind/pagefind-ui.js";
      const PF_BUNDLE = PF_UI_SRC.replace(/\/pagefind-ui\.js$/, '');

      if (window.PagefindUI) {
        // Normal: render search UI with Pagefind
        new PagefindUI({
          element: '#search',
          bundlePath: PF_BUNDLE,
          showSubResults: true,
          placeholder: 'Search the wiki'
        });
      } else {

        el.innerHTML = '<input type="search" class="pagefind-ui__search-input" placeholder="Search (index not built yet)">';
      }
    });
  </script>


  <!-- ECharts -->
  <script src="static/vendor/echarts/echarts.min.js"></script>

  
<style>
  /* =============================================
     UNIFIED DETAILS/SUMMARY COLLAPSIBLE STYLES
     Áªü‰∏ÄÁöÑÊäòÂè†Ê°ÜÊ†∑Âºè - ‰ΩøÁî®ÂÆûÂøÉÁÆ≠Â§¥
     ============================================= */
  #auto-wetlab-content details {
    background: linear-gradient(135deg, rgba(66, 153, 225, 0.08), rgba(104, 211, 145, 0.08));
    border: 1px solid rgba(66, 153, 225, 0.25);
    border-radius: 8px;
    padding: 0.8rem 1.2rem;
    margin: 1.2rem 0;
    transition: all 0.3s ease;
  }

  #auto-wetlab-content details:hover {
    background: linear-gradient(135deg, rgba(66, 153, 225, 0.12), rgba(104, 211, 145, 0.12));
    border-color: rgba(66, 153, 225, 0.4);
  }

  #auto-wetlab-content details[open] {
    background: linear-gradient(135deg, rgba(66, 153, 225, 0.1), rgba(104, 211, 145, 0.1));
    border-color: rgba(66, 153, 225, 0.5);
  }

  #auto-wetlab-content summary {
    cursor: pointer;
    font-weight: 600;
    color: #2c5282;
    list-style: none;
    display: flex;
    align-items: center;
    user-select: none;
    position: relative;
    padding-left: 1.5rem;
  }

  /* Remove default triangle marker */
  #auto-wetlab-content summary::-webkit-details-marker {
    display: none;
  }

  /* Custom arrow icon - ÂÆûÂøÉÁÆ≠Â§¥ */
  #auto-wetlab-content summary::before {
    content: '‚ñ∂' !important;
    display: inline-block !important;
    position: absolute;
    left: 0;
    color: #4299e1;
    font-size: 0.8em;
    transition: transform 0.3s ease;
  }

  #auto-wetlab-content details[open] summary::before {
    transform: rotate(90deg);
  }

  #auto-wetlab-content summary:hover {
    color: #2b6cb0;
  }

  #auto-wetlab-content details p {
    margin-top: 0.8rem;
    padding-left: 1.5rem;
    color: #4a5568;
    line-height: 1.7;
  }

  /* Dark mode support */
  :root.dark #auto-wetlab-content details {
    background: linear-gradient(135deg, rgba(66, 153, 225, 0.12), rgba(104, 211, 145, 0.12));
    border-color: rgba(66, 153, 225, 0.3);
  }

  :root.dark #auto-wetlab-content summary {
    color: #93c5fd !important;
  }

  :root.dark #auto-wetlab-content summary::before {
    color: #60a5fa;
  }

  :root.dark #auto-wetlab-content details p {
    color: #d1d5db;
  }


  /* Remove pseudo-elements for everything except summary */
  [id*="content"] *:not(summary)::before,
  [id*="content"] *::after,
  .pagecontent *:not(summary)::before,
  .pagecontent *::after {
    content: none !important;
    display: none !important;
  }

  /* Safety-only: reduce initial top gap so content shows immediately */
  .pagecontainer { margin-top: 4vh; }
  .pagecontent { transform: none; margin-top: 0; }
  
  /* Unified title styling */
  .title2 { 
    margin-bottom: 60px !important;
    margin-left: -100px !important;
  }
  .title2 > span {
    font-size: 8.5vw !important;
  }

  /* Navbar styles managed by global navbar.css, remove page-specific overrides here */

  /* Wet Lab: set background image for Wet Lab pages */
  .safety-bg-image {
    background: url("https://static.igem.wiki/teams/5913/picture/wet-lab-background.webp") !important;
    background-size: cover !important;
    background-position: center center !important;
    background-repeat: no-repeat !important;
  }

  /* Align Safety background with fixed 250px sidebar on desktop */
  @media (min-width: 921px) {
    .safety-bg-image {
      left: 250px;
      width: calc(100% - 250px);
    }
    
    /* Override sidebar position to move it to bottom */
    .main .menubg {
      top: 78px !important;
      height: calc(100vh - 78px) !important;
    }
  }

  /* ============================================
     FLAT STYLE: Single background box like Background page
     ============================================ */
  .pagecontent {
    background: var(--nav-bg) !important;
    padding: 30px 5% !important;
    border-radius: 50px !important;
    margin-bottom: 100px !important;
  }

  #auto-wetlab-content {
    max-width: 100%;
    line-height: 1.6;
    color: #2d3748;
  }

  /* Simple heading styles */
  #auto-wetlab-content h1 {
    color: #2c3e50 !important;
    border-bottom: 3px solid #3498db !important;
    padding-bottom: 10px !important;
    margin-bottom: 30px !important;
    margin-top: 3rem !important;
    font-size: 2.5rem !important;
    font-weight: 700 !important;
    background: none !important;
    border-radius: 0 !important;
    text-shadow: none !important;
  }

  #auto-wetlab-content h1::before,
  #auto-wetlab-content h1::after {
    content: none !important;
  }

  #auto-wetlab-content h2 {
    color: #34495e !important;
    margin-top: 40px !important;
    margin-bottom: 20px !important;
    border-left: 4px solid #3498db !important;
    padding-left: 15px !important;
    font-size: 1.75rem !important;
    font-weight: 600 !important;
    background: none !important;
    border-radius: 0 !important;
  }

  #auto-wetlab-content h2::before {
    content: none !important;
  }

  #auto-wetlab-content h3 {
    color: #2c3e50 !important;
    margin-top: 30px !important;
    margin-bottom: 15px !important;
    font-size: 1.25rem !important;
    font-weight: 600 !important;
    background: none !important;
    border: none !important;
    padding: 0 !important;
  }

  #auto-wetlab-content h4 {
    color: #2d3748 !important;
    margin-top: 1.5rem !important;
    margin-bottom: 0.75rem !important;
    font-size: 1.1rem !important;
    font-weight: 600 !important;
    background: none !important;
    border: none !important;
    padding: 0 !important;
  }

  #auto-wetlab-content strong {
    color: #2c3e50 !important;
    font-weight: 600 !important;
    background: none !important;
    padding: 0 !important;
  }

  #auto-wetlab-content em {
    font-style: italic !important;
    color: #7f8c8d !important;
    background: none !important;
    padding: 0 !important;
  }

  #auto-wetlab-content ul {
    margin: 15px 0 !important;
    padding-left: 30px !important;
    background: none !important;
  }

  #auto-wetlab-content ul li {
    margin: 8px 0 !important;
    padding-left: 0 !important;
    list-style-type: disc !important;
    background: none !important;
  }

  #auto-wetlab-content ul li::before,
  #auto-wetlab-content ul ul li::before {
    content: none !important;
  }

  #auto-wetlab-content > p,
  #auto-wetlab-content > ul {
    background: none !important;
    border: none !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    padding: 0 !important;
  }

  #auto-wetlab-content img {
    border: none !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    transition: none !important;
  }

  #auto-wetlab-content img:hover {
    transform: none !important;
    box-shadow: none !important;
  }

  #auto-wetlab-content blockquote {
    border: none !important;
    background: none !important;
    padding: 0 !important;
    border-radius: 0 !important;
  }

  #auto-wetlab-content blockquote::before {
    content: none !important;
  }

  /* Dark theme */
  :root.dark .pagecontent {
    background: #1a202c !important;
  }

  :root.dark #auto-wetlab-content {
    color: #e6f3ff !important;
  }

  :root.dark #auto-wetlab-content h1 {
    color: #ffffff !important;
    border-bottom-color: #3b82f6 !important;
    text-shadow: none !important;
  }

  :root.dark #auto-wetlab-content h2 {
    color: #60a5fa !important;
    border-left-color: #3b82f6 !important;
    text-shadow: none !important;
  }

  :root.dark #auto-wetlab-content h3 {
    color: #93c5fd !important;
    text-shadow: none !important;
  }

  :root.dark #auto-wetlab-content h4 {
    color: #93c5fd !important;
    text-shadow: none !important;
  }

  :root.dark #auto-wetlab-content strong {
    color: #ffffff !important;
  }

  :root.dark #auto-wetlab-content em {
    color: #94a3b8 !important;
  }

</style>
<script>
  // Convert bold paragraph titles to semantic headings and build sidebar
  document.addEventListener('DOMContentLoaded', function () {
    const contentRoot = document.getElementById('auto-wetlab-content');
    if (!contentRoot) return;

    function slugify(text) {
      return text.toLowerCase()
        .replace(/[^a-z0-9\u4e00-\u9fa5\s\.-]/g, '')
        .trim()
        .replace(/\s+/g, '-');
    }

    // Promote <p><strong>Title</strong></p> to <h1>/<h2>
    const paragraphs = Array.from(contentRoot.querySelectorAll('p'));
    const promoted = [];
    paragraphs.forEach(p => {
      const strong = p.querySelector('strong');
      if (!strong) return;
      const text = strong.textContent.trim();
      if (!text) return;

      const isThirdLevel = /^\d+\.\d+\.\d+/.test(text); // 3.2.1 format
      const isSecondLevel = /^\d+\.\d+/.test(text) && !isThirdLevel; // 3.2 format but not 3.2.1
      const isTopNumbered = /^\d+\./.test(text) && !isSecondLevel && !isThirdLevel; // 3. format
      const isOverview = /^overview$/i.test(text.trim());
      const isAssembly = /^assembly$/i.test(text.trim()); // Handle the first "Assembly" title
      const level = isThirdLevel ? 'H3' : (isSecondLevel ? 'H2' : (isTopNumbered || isOverview || isAssembly ? 'H1' : null));
      if (!level) return;

      // Convert "Assembly" to "Overview" for consistency
      const finalText = isAssembly ? 'Overview' : text;
      const id = slugify(finalText);
      const h = document.createElement(level);
      h.textContent = finalText.replace(/\s+$/,'');
      h.id = id;

      // Replace paragraph with heading
      p.parentNode.replaceChild(h, p);
      promoted.push(h);
    });

    // Build sidebar menu from generated headings
    const menu = document.getElementById('menu');
    const menubg = document.querySelector('.menubg');
    if (!menu || !menubg) return;
    // Clear existing items
    menu.innerHTML = '';

    // Group headings with proper hierarchy (h1 > h2 > h3)
    const headings = Array.from(contentRoot.querySelectorAll('h1, h2, h3'));
    let currentH2Container = null;
    let currentH3Container = null;
    
    // First pass: collect all headings and determine which ones have children
    const headingInfo = headings.map((node, index) => {
      const level = parseInt(node.tagName.charAt(1));
      const nextHeading = headings[index + 1];
      const hasChildren = nextHeading && parseInt(nextHeading.tagName.charAt(1)) > level;
      
      return {
        node,
        level,
        hasChildren,
        id: node.id,
        text: node.textContent
      };
    });

    headingInfo.forEach((info, index) => {
      if (info.level === 1) {
        const t1 = document.createElement('div');
        t1.className = 't1';
        t1.setAttribute('tid', info.id);
        
        // Create text span
        const textSpan = document.createElement('span');
        textSpan.className = 'heading-text';
        textSpan.textContent = info.text;
        t1.appendChild(textSpan);
        
        // Add expand icon if has children
        if (info.hasChildren) {
          const icon = document.createElement('span');
          icon.className = 'expand-icon';
				icon.innerHTML = '‚ñ∂'; // Right arrow for collapsed state
          t1.appendChild(icon);
        }
        
        menu.appendChild(t1);

        const h2sec = document.createElement('div');
        h2sec.className = 'h2-sec';
        menu.appendChild(h2sec);

        currentH2Container = h2sec;
        currentH3Container = null; // Reset h3 container when new h1 starts
      } else if (info.level === 2) {
        if (!currentH2Container) {
          currentH2Container = document.createElement('div');
          currentH2Container.className = 'h2-sec';
          menu.appendChild(currentH2Container);
        }
        const t2 = document.createElement('div');
        t2.className = 't2';
        t2.setAttribute('tid', info.id);
        
        // Create text span
        const textSpan = document.createElement('span');
        textSpan.className = 'heading-text';
        textSpan.textContent = info.text;
        t2.appendChild(textSpan);
        
        // Add expand icon if has children
        if (info.hasChildren) {
          const icon = document.createElement('span');
          icon.className = 'expand-icon';
				icon.innerHTML = '‚ñ∂'; // Right arrow for collapsed state
          t2.appendChild(icon);
        }
        
        currentH2Container.appendChild(t2);
        
        // Create container for h3 items under this h2
        const h3sec = document.createElement('div');
        h3sec.className = 'h3-sec';
        currentH2Container.appendChild(h3sec);
        currentH3Container = h3sec;
      } else if (info.level === 3) {
        if (!currentH3Container) {
          // If no h2 container exists, create one
          if (!currentH2Container) {
            currentH2Container = document.createElement('div');
            currentH2Container.className = 'h2-sec';
            menu.appendChild(currentH2Container);
          }
          currentH3Container = document.createElement('div');
          currentH3Container.className = 'h3-sec';
          currentH2Container.appendChild(currentH3Container);
        }
        const t3 = document.createElement('div');
        t3.className = 't3';
        t3.setAttribute('tid', info.id);
        t3.textContent = info.text;
        currentH3Container.appendChild(t3);
      }
    });

    // Re-bind sidebar interactions provided in layout
    if (typeof window !== 'undefined') {
      const clickBind = function (selector, event, cb) {
        document.querySelectorAll(selector).forEach(el => el.addEventListener(event, cb));
      };

      const cb_t1 = function (e) {
        // Get the actual t1 element (in case user clicked on text span or icon)
        const t1Element = e.target.closest('.t1');
        if (!t1Element) return;
        
        const isCurrentlyUnfolded = t1Element.classList.contains('unfold');
        
        // Remove unfold class from all t1 elements and reset their icons
        document.querySelectorAll('#menu .t1').forEach(item => {
          item.classList.remove('unfold');
          const icon = item.querySelector('.expand-icon');
				if (icon) icon.innerHTML = '‚ñ∂'; // Reset to right arrow (collapsed)
        });
        
        // Also reset all t2 elements when collapsing t1
        document.querySelectorAll('#menu .t2').forEach(item => {
          item.classList.remove('unfold');
          const icon = item.querySelector('.expand-icon');
				if (icon) icon.innerHTML = '‚ñ∂'; // Reset to right arrow (collapsed)
        });
        
        // Toggle: if it was unfolded, keep it folded; if it was folded, unfold it
        if (!isCurrentlyUnfolded) {
          t1Element.classList.add('unfold');
          const icon = t1Element.querySelector('.expand-icon');
				if (icon) icon.innerHTML = '‚ñº'; // Down arrow for expanded state
        }
        
        const targetId = t1Element.getAttribute('tid');
        const el = document.getElementById(targetId);
        if (el) {
          // Calculate scroll to 70% position of section
          const nav = document.querySelector('.my-nav');
          const navHeight = nav ? nav.getBoundingClientRect().height : 0;
          const viewportHeight = window.innerHeight || document.documentElement.clientHeight || 800;
          const dynamicOffset = Math.floor(viewportHeight * 0.3) + navHeight;
          
          const targetRect = el.getBoundingClientRect();
          const targetTop = targetRect.top + window.pageYOffset;
          const targetHeight = targetRect.height;
          
          // Scroll to 70% position of section so highlight logic activates immediately          const target70PercentPoint = targetTop + (targetHeight * 0.7);
          const scrollToPosition = Math.max(0, target70PercentPoint - dynamicOffset);
          
          window.scrollTo({ 
            top: scrollToPosition, 
            behavior: 'smooth' 
          });
        }
        window.userManualNavigation = true;
        // Immediately update highlight state        setTimeout(() => {
          window.updateActiveSection();
          window.userManualNavigation = false;
        }, 100);
      };

      const cb_t2 = function (e) {
        // Get the actual t2 element (in case user clicked on text span or icon)
        const t2Element = e.target.closest('.t2');
        if (!t2Element) return;
        
        // Check if this t2 has an expand icon (meaning it has children)
        const icon = t2Element.querySelector('.expand-icon');
        if (icon) {
          // Toggle the h3-sec visibility using CSS classes
          const h3Container = t2Element.nextElementSibling;
          if (h3Container && h3Container.classList.contains('h3-sec')) {
            const isCurrentlyExpanded = t2Element.classList.contains('unfold');
            if (isCurrentlyExpanded) {
              t2Element.classList.remove('unfold');
						icon.innerHTML = '‚ñ∂'; // Collapsed state - right arrow
            } else {
              t2Element.classList.add('unfold');
						icon.innerHTML = '‚ñº'; // Expanded state - down arrow
            }
          }
        }
        
        const targetId = t2Element.getAttribute('tid');
        const el = document.getElementById(targetId);
        if (el) {
          // Calculate scroll to 70% position of section
          const nav = document.querySelector('.my-nav');
          const navHeight = nav ? nav.getBoundingClientRect().height : 0;
          const viewportHeight = window.innerHeight || document.documentElement.clientHeight || 800;
          const dynamicOffset = Math.floor(viewportHeight * 0.3) + navHeight;
          
          const targetRect = el.getBoundingClientRect();
          const targetTop = targetRect.top + window.pageYOffset;
          const targetHeight = targetRect.height;
          
          // Scroll to 70% position of section so highlight logic activates immediately          const target70PercentPoint = targetTop + (targetHeight * 0.7);
          const scrollToPosition = Math.max(0, target70PercentPoint - dynamicOffset);
          
          window.scrollTo({ 
            top: scrollToPosition, 
            behavior: 'smooth' 
          });
        }
        window.userManualNavigation = true;
        window.navigationClicked = true; // Set navigation click flag
        // Immediately update highlight state        setTimeout(() => {
          window.updateActiveSection();
          window.userManualNavigation = false;
        }, 100);
      };

      const cb_t3 = function (e) {
        const targetId = e.target.getAttribute('tid');
        const el = document.getElementById(targetId);
        if (el) {
          // Calculate scroll to 70% position of section
          const nav = document.querySelector('.my-nav');
          const navHeight = nav ? nav.getBoundingClientRect().height : 0;
          const viewportHeight = window.innerHeight || document.documentElement.clientHeight || 800;
          const dynamicOffset = Math.floor(viewportHeight * 0.3) + navHeight;
          
          const targetRect = el.getBoundingClientRect();
          const targetTop = targetRect.top + window.pageYOffset;
          const targetHeight = targetRect.height;
          
          // Scroll to 70% position of section so highlight logic activates immediately          const target70PercentPoint = targetTop + (targetHeight * 0.7);
          const scrollToPosition = Math.max(0, target70PercentPoint - dynamicOffset);
          
          window.scrollTo({ 
            top: scrollToPosition, 
            behavior: 'smooth' 
          });
        }
        window.userManualNavigation = true;
        window.navigationClicked = true; // Set navigation click flag
        // Immediately update highlight state        setTimeout(() => {
          window.updateActiveSection();
          window.userManualNavigation = false;
        }, 100);
      };

      // Enhanced scroll highlighting for wetlab page (supports h1, h2, h3)
      const sections = document.querySelectorAll('#auto-wetlab-content h1, #auto-wetlab-content h2, #auto-wetlab-content h3');
      const menuItems = {
        t1: document.querySelectorAll('#menu .t1'),
        t2: document.querySelectorAll('#menu .t2'),
        t3: document.querySelectorAll('#menu .t3')
      };
      
      
      // Global updateActiveSection function for wetlab page
      window.updateActiveSection = function() {
          // Skip if user is manually navigating or has clicked navigation
          if (window.userManualNavigation || window.navigationClicked) {
            return;
          }
          
          const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
          const nav = document.querySelector('.my-nav');
          const navHeight = nav ? nav.getBoundingClientRect().height : 0;
          const viewportHeight = window.innerHeight || document.documentElement.clientHeight || 800;
          const dynamicOffset = Math.floor(viewportHeight * 0.3) + navHeight;
          
          const currentViewPosition = scrollTop + dynamicOffset;
          
          // New logic: find the section closest to current viewport position (handled by hierarchy)
          let activeSection = null;
          let activeSubsection = null;
          let activeSubSubsection = null;
          
          let minDistanceH1 = Infinity;
          let minDistanceH2 = Infinity;
          let minDistanceH3 = Infinity;
          
          sections.forEach(section => {
            const rect = section.getBoundingClientRect();
            const sectionTop = rect.top + scrollTop;
            const sectionCenter = sectionTop + (rect.height * 0.5); 
            // Calculate distance from current viewport position to section center
            const distanceToCenter = Math.abs(sectionCenter - currentViewPosition);
            
          // ?          if (sectionTop <= currentViewPosition) {
            if (section.tagName === 'H1' && distanceToCenter < minDistanceH1) {
              minDistanceH1 = distanceToCenter;
              activeSection = section;
            } else if (section.tagName === 'H2' && distanceToCenter < minDistanceH2) {
              minDistanceH2 = distanceToCenter;
              activeSubsection = section;
            } else if (section.tagName === 'H3' && distanceToCenter < minDistanceH3) {
              minDistanceH3 = distanceToCenter;
              activeSubSubsection = section;
            }
          }
          });
          
          // H2H3H1
          if (activeSection && activeSubsection) {
            // H2H1?            const h1Id = activeSection.id;
            const h2Id = activeSubsection.id;
            // H2H1IDH2
            if (!h2Id.startsWith(h1Id.split('.')[0] + '.')) {
              activeSubsection = null;
              minDistanceH2 = Infinity;
            }
          }
          
          if (activeSubsection && activeSubSubsection) {
            // H3H2?            const h2Id = activeSubsection.id;
            const h3Id = activeSubSubsection.id;
            
            // ?"3.2.4-title" -> "3.2"?            const h2NumPrefix = h2Id.match(/^(\d+\.\d+)/);
            const h3NumPrefix = h3Id.match(/^(\d+\.\d+\.\d+)/);
            
            // H3H2?            if (h2NumPrefix && h3NumPrefix) {
              const h2Num = h2NumPrefix[1]; // "3.2"
              const h3ParentNum = h3NumPrefix[1].split('.').slice(0, 2).join('.'); // "3.2.4" -> "3.2"
              
              if (h3ParentNum !== h2Num) {
                activeSubSubsection = null;
                minDistanceH3 = Infinity;
              }
            } else {
              // H3
              activeSubSubsection = null;
              minDistanceH3 = Infinity;
            }
          } else if (!activeSubsection && activeSubSubsection) {
            // H2H3H3
            activeSubSubsection = null;
            minDistanceH3 = Infinity;
          }
          
          
          if (activeSection) {
            console.log('Active H1:', activeSection.textContent.trim(), 'ID:', activeSection.id);
          }
          if (activeSubsection) {
            console.log('Active H2:', activeSubsection.textContent.trim(), 'ID:', activeSubsection.id);
          }
          if (activeSubSubsection) {
            console.log('Active H3:', activeSubSubsection.textContent.trim(), 'ID:', activeSubSubsection.id);
          }
          
          console.log('Current scroll position:', currentViewPosition, 'Distances:', {
            H1: minDistanceH1,
            H2: minDistanceH2,
            H3: minDistanceH3
          });
          
          
          // Clear all active states and collapse all sections
          menuItems.t1.forEach(item => {
            item.classList.remove('active', 'show');
            // H1?            item.classList.remove('unfold');
            const icon = item.querySelector('.expand-icon');
				if (icon) icon.innerHTML = '‚ñ∂'; // Reset to right arrow (collapsed)
          });
          menuItems.t2.forEach(item => {
            item.classList.remove('active', 'show');
            // H2?            item.classList.remove('unfold');
            const icon = item.querySelector('.expand-icon');
				if (icon) icon.innerHTML = '‚ñ∂'; // Reset to right arrow (collapsed)
          });
          menuItems.t3.forEach(item => item.classList.remove('active', 'show'));
          
          // H3 > H2 > H1?          
          if (activeSubSubsection) {
            // H3H3
            const activeT3 = document.querySelector(`#menu .t3[tid="${activeSubSubsection.id}"]`);
            if (activeT3) {
              activeT3.classList.add('active', 'show');
              
              // H2H1
              const parentT2 = activeT3.closest('.h3-sec').previousElementSibling;
              if (parentT2 && parentT2.classList.contains('t2')) {
                parentT2.classList.add('unfold');
                const icon = parentT2.querySelector('.expand-icon');
					if (icon) icon.innerHTML = '‚ñº'; // Expanded state - down arrow
                
                const parentT1 = parentT2.closest('.h2-sec').previousElementSibling;
                if (parentT1 && parentT1.classList.contains('t1')) {
                  parentT1.classList.add('unfold');
                  const icon = parentT1.querySelector('.expand-icon');
						if (icon) icon.innerHTML = '‚ñº'; // Expanded state - down arrow
                }
              }
            }
          } else if (activeSubsection) {
            // H3H2H2
            const activeT2 = document.querySelector(`#menu .t2[tid="${activeSubsection.id}"]`);
            if (activeT2) {
              activeT2.classList.add('active', 'show');
              
              // H3?              if (activeT2.nextElementSibling && activeT2.nextElementSibling.classList.contains('h3-sec') && activeT2.nextElementSibling.children.length > 0) {
                activeT2.classList.add('unfold');
                const icon = activeT2.querySelector('.expand-icon');
					if (icon) icon.innerHTML = '‚ñº'; // Expanded state - down arrow
              }
              
              // H1
              const parentT1 = activeT2.closest('.h2-sec').previousElementSibling;
              if (parentT1 && parentT1.classList.contains('t1')) {
                parentT1.classList.add('unfold');
                const icon = parentT1.querySelector('.expand-icon');
					if (icon) icon.innerHTML = '‚ñº'; // Expanded state - down arrow
              }
            }
          } else if (activeSection) {
            // H1H1
            const activeT1 = document.querySelector(`#menu .t1[tid="${activeSection.id}"]`);
            if (activeT1) {
              activeT1.classList.add('active', 'show');
              
              // H2?              if (activeT1.nextElementSibling && activeT1.nextElementSibling.classList.contains('h2-sec') && activeT1.nextElementSibling.children.length > 0) {
                activeT1.classList.add('unfold');
                const icon = activeT1.querySelector('.expand-icon');
					if (icon) icon.innerHTML = '‚ñº'; // Expanded state - down arrow
              }
            }
          }
        }
      
      // Initialize wetlab-specific scroll highlighting
      function initWetlabScrollHighlight() {
        // Listen for scroll events with throttling
        let scrollTimeout;
        window.addEventListener('scroll', () => {
          // ?          if (window.navigationClicked) {
            window.navigationClicked = false;
          }
          clearTimeout(scrollTimeout);
          scrollTimeout = setTimeout(window.updateActiveSection, 10);
        });
        
        // Initial update
        setTimeout(window.updateActiveSection, 100);
        
        console.log('Wetlab scroll highlight initialized with', sections.length, 'sections');
      }
      
      initWetlabScrollHighlight();
      
      clickBind('#menu .t1', 'click', cb_t1);
      clickBind('#menu .t2', 'click', cb_t2);
      clickBind('#menu .t3', 'click', cb_t3);
    }
  });
</script>
<script>
  // Additional functionality for Wetlab page
  (function() {
    var contentRoot = document.getElementById('auto-wetlab-content');
    if (!contentRoot) return;

    function textOf(node) {
      return (node && node.textContent || '').trim();
    }

    // Hide Table of Contents block if present
    try {
      var allNodes = contentRoot.querySelectorAll('*');
      for (var z = 0; z < allNodes.length; z++) {
        var node = allNodes[z];
        var t = textOf(node).toLowerCase();
        if (!t) continue;
        if (t.indexOf('table of contents') !== -1) {
          // try to hide its nearest block that also contains a UL
          var container = node;
          for (var up = 0; up < 5 && container; up++) {
            if (container.querySelector && container.querySelector('ul')) break;
            container = container.parentElement;
          }
          if (container && container !== contentRoot) {
            container.style.display = 'none';
          } else {
            node.style.display = 'none';
            var next = node.nextElementSibling;
            if (next && next.tagName === 'UL') next.style.display = 'none';
          }
          break;
        }
      }
    } catch (e) {}


    // Enhanced typography: Auto-apply styling classes
    try {
      var paragraphs = contentRoot.querySelectorAll('p');
      paragraphs.forEach(function(p) {
        var text = p.textContent.toLowerCase();
        
        // Apply warning styles
        if (text.includes('challenge') || text.includes('concern') || text.includes('risk')) {
          p.classList.add('wetlab-warning');
        }
        
        // Apply success styles
        if (text.includes('successful') || text.includes('achieved') || text.includes('completed')) {
          p.classList.add('wetlab-success');
        }
        
        // Apply info styles for experimental details
        if (text.includes('protocol') || text.includes('method') || text.includes('procedure')) {
          p.classList.add('wetlab-info');
        }
        
        // Handle image groups - if paragraph contains multiple images, wrap them
        var images = p.querySelectorAll('img');
        if (images.length > 1) {
          // Create wrapper for multiple images
          var wrapper = document.createElement('div');
          wrapper.className = 'image-group';
          
          // Move all images to the wrapper
          images.forEach(function(img) {
            wrapper.appendChild(img.cloneNode(true));
          });
          
          // Clear the paragraph and add the wrapper
          p.innerHTML = '';
          p.appendChild(wrapper);
        }
      });

      // Enhanced image loading with fade-in effect
      var images = contentRoot.querySelectorAll('img');
      images.forEach(function(img) {
        if (img.complete) {
          img.style.opacity = '1';
        } else {
          img.addEventListener('load', function() {
            this.style.opacity = '1';
          });
        }
      });

      // Add smooth scroll behavior for better UX
      var links = contentRoot.querySelectorAll('a[href^="#"]');
      links.forEach(function(link) {
        link.addEventListener('click', function(e) {
          var target = document.querySelector(this.getAttribute('href'));
          if (target) {
            e.preventDefault();
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        });
      });

    } catch (e) {
      console.log('Enhanced typography features failed to load:', e);
    }
  })();
</script>



  <!-- Bootstrap Bundle -->
  <script src="static/bootstrap.bundle.min.js"></script>
</body>

</html>